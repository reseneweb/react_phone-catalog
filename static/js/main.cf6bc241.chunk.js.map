{"version":3,"sources":["components/Search/Search.tsx","utils/searchHelper.ts","components/Header/Header.tsx","components/Footer/Footer.tsx","App.tsx","hooks/useLocalStorage.ts","components/BannerSlider/BannerSlider.tsx","components/ProductCard/ProductCard.tsx","components/ProductsSlider/ProductsSlider.tsx","components/ShopByCategory/ShopByCategory.tsx","pages/HomePage/HomePage.tsx","components/ProductsList/ProductsList.tsx","components/Loader/Loader.tsx","utils/utils.ts","components/Pagination/Pagination.tsx","components/NoResults/NoResults.tsx","components/NoSearchResults/NoSearchResults.tsx","pages/PhonesPage/PhonesPage.tsx","pages/TabletsPage/TabletsPage.tsx","pages/AccessoriesPage/AccessoriesPage.tsx","pages/FavoritesPage/FavoritesPage.tsx","components/CartItem/CartItem.tsx","pages/CartPage/CartPage.tsx","pages/ContactsPage/ContactsPage.tsx","pages/RightsPage/RightsPage.tsx","pages/NotFoundPage/NotFoundPage.tsx","pages/ProductDetailsPage/ProductDetailsPage.tsx","index.tsx"],"names":["Search","applyQuery","currentPath","useLocation","pathname","slice","useSearchParams","searchParams","setSearchParams","query","get","setSearchWith","params","search","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","value","delete","Array","isArray","part","append","set","getSearchWith","className","htmlFor","type","name","id","placeholder","onChange","event","target","onClick","src","alt","Header","cartItemsLength","favoritesItemsLength","setActiveClass","isActive","to","includes","Footer","handleBackToTop","window","scrollTo","top","behavior","href","rel","onKeyDown","App","useState","favoritesItems","setFavoritesItems","startValue","data","localStorage","getItem","JSON","parse","e","removeItem","setValue","newValue","setItem","stringify","useLocalStorage","cartItems","setCartItems","appliedQuery","setAppliedQuery","useCallback","debounce","length","context","addToFavorites","product","prevItems","removeFromFavorites","productId","filter","item","addToCart","quantity","removeFromCart","requiredProduct","incrementQuantity","map","decrementQuantity","Math","max","imageUrls","BannerSlider","currentIndex","setCurrentIndex","handleNext","prevIndex","useEffect","interval","setInterval","clearInterval","style","transform","ProductCard","useOutletContext","containedInFavorites","some","containedInCart","phoneId","image","price","fullPrice","screen","capacity","ram","ProductsSlider","title","products","disabled","ShopByCategory","HomePage","setProducts","hasError","setHasError","fetchProducts","a","fetch","response","ok","Error","json","hotPriceProducts","sort","b","discountA","brandNewProducts","ProductsList","Loader","getNumbers","from","numbers","n","push","Pagination","total","perPage","currentPage","onPageChange","numberOfLinks","ceil","previousLink","link","handleLinkClick","nextLink","NoResults","productName","NoSearchResults","PhonesPage","phones","setPhones","isLoading","setIsLoading","year","sortedPhones","setSortedPhones","displayedPhones","setDisplayedPhones","getPhones","currentPhones","category","result","toLowerCase","sortBy","indexOfLastItem","indexOfFirstItem","currentItems","sortValue","sortedArray","localeCompare","sortProducts","TabletsPage","tablets","setTablets","sortedTablets","setSortedTablets","displayedTablets","setDisplayedTablets","getTablets","currentTablets","AccessoriesPage","accessories","setAccessories","sortedAccessories","setSortedAccessories","displayedAccessories","setDisplayedAccessories","getAccessories","currentAccessories","FavoritesPage","displayedFavorites","setDisplayedFavorites","CartItem","CartPage","checkoutMessage","setCheckoutMessage","navigate","useNavigate","totalAmount","totalPrice","reduce","acc","timer","setTimeout","clearTimeout","ContactsPage","RightsPage","NotFoundPage","ProductDetailsPage","useParams","productDetails","setProductDetails","setProduct","selectedColor","setSelectedColor","images","selectedImage","setSelectedImage","thisModelProducts","setThisModelProducts","suggestedProducts","setSuggestedProducts","getProduct","baseProductId","split","join","newProductId","handleColorClick","color","foundProduct","find","itemId","currentProducts","shuffled","i","j","floor","random","shuffleProducts","index","handleImageClick","tabIndex","background","width","height","colorsAvailable","handleKeyDown","backgroundImage","capacityAvailable","toLocaleLowerCase","handleCapacityClick","replace","priceDiscount","priceRegular","resolution","processor","description","section","text","paragraph","camera","zoom","cell","ReactDOM","render","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.cf6bc241.chunk.js","sourcesContent":["import React from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { getSearchWith, SearchParams } from '../../utils/searchHelper';\nimport './Search.scss';\n\ntype Props = {\n  applyQuery: (arg: string) => void;\n};\n\nexport const Search: React.FC<Props> = ({\n  applyQuery,\n}) => {\n  const currentPath = useLocation().pathname.slice(1);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n\n  function setSearchWith(params: SearchParams) {\n    const search = getSearchWith(searchParams, params);\n\n    setSearchParams(search);\n  }\n\n  function handleQueryChange(event: React.ChangeEvent<HTMLInputElement>) {\n    setSearchWith({ query: event.target.value || null });\n    applyQuery(event.target.value);\n  }\n\n  return (\n    <label className=\"search\" htmlFor=\"search-input\">\n      <input\n        className=\"nav-search\"\n        type=\"text\"\n        name=\"search\"\n        id=\"search-input\"\n        placeholder={`Search in ${currentPath}...`}\n        value={query}\n        onChange={handleQueryChange}\n      />\n\n      {!query ? (\n        <img\n          src=\"img/icons/search.svg\"\n          alt=\"search\"\n          className=\"search-icon\"\n        />\n      ) : (\n        <button\n          data-cy=\"searchDelete\"\n          type=\"button\"\n          className=\"search__delete-button\"\n          onClick={() => {\n            setSearchWith({ query: null });\n            applyQuery('');\n          }}\n        >\n          <img\n            src=\"img/icons/DarkClose.svg\"\n            alt=\"delete-button\"\n          />\n        </button>\n      )}\n    </label>\n  );\n};\n","export type SearchParams = {\n  [key: string]: string | string[] | null,\n};\n\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams,\n): string {\n  const newParams = new URLSearchParams(\n    currentParams.toString(),\n  );\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  return newParams.toString();\n}\n","import { NavLink, useLocation } from 'react-router-dom';\nimport './Header.scss';\nimport { Search } from '../Search/Search';\n\ntype Props = {\n  applyQuery: (arg: string) => void;\n  cartItemsLength: number;\n  favoritesItemsLength: number;\n};\n\nexport const Header: React.FC<Props> = ({\n  applyQuery,\n  cartItemsLength,\n  favoritesItemsLength,\n}) => {\n  const currentPath = useLocation().pathname;\n  const availableForSearch\n    = ['/phones', '/tablets', '/accessories', '/favorites'];\n\n  const setActiveClass = ({ isActive }: { isActive: boolean }) => {\n    return isActive ? 'active' : '';\n  };\n\n  return (\n    <header className=\"header\">\n      <nav className=\"navbar\">\n        <div className=\"navbar__container\">\n          <div className=\"nav-logo\">\n            <NavLink\n              to=\"/\"\n              className={setActiveClass}\n            >\n              <img src=\"img/icons/logo.svg\" alt=\"logo\" />\n            </NavLink>\n          </div>\n          <div className=\"nav-links\">\n            <NavLink to=\"/\" className={setActiveClass}>Home</NavLink>\n            <NavLink to=\"/phones\" className={setActiveClass}>Phones</NavLink>\n            <NavLink to=\"/tablets\" className={setActiveClass}>Tablets</NavLink>\n            <NavLink to=\"/accessories\" className={setActiveClass}>\n              Accessories\n            </NavLink>\n          </div>\n        </div>\n\n        <div className=\"nav-icons\">\n          {availableForSearch.includes(currentPath) && (\n            <Search\n              applyQuery={applyQuery}\n            />\n          )}\n\n          <NavLink to=\"/favorites\" className={setActiveClass}>\n            <div className=\"favorites-icon\">\n              {favoritesItemsLength > 0 && (\n                <div className=\"favorites-icon__counter\">\n                  <span className=\"favorites-icon__count\">\n                    {favoritesItemsLength}\n                  </span>\n                </div>\n              )}\n              <img\n                src=\"img/icons/favourites.svg\"\n                alt=\"favorites\"\n                className=\"favorites-icon__img\"\n              />\n            </div>\n\n          </NavLink>\n          <NavLink to=\"/cart\" className={setActiveClass}>\n            <div className=\"cart-icon\">\n              {cartItemsLength > 0 && (\n                <div className=\"cart-icon__counter\">\n                  <span className=\"cart-icon__count\">{cartItemsLength}</span>\n                </div>\n              )}\n              <img\n                src=\"img/icons/bag.svg\"\n                alt=\"bag\"\n                className=\"cart-icon__img\"\n              />\n            </div>\n          </NavLink>\n        </div>\n      </nav>\n    </header>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport './Footer.scss';\n\nexport const Footer = () => {\n  const setActiveClass = ({ isActive }: { isActive: boolean }) => {\n    return isActive ? 'active' : '';\n  };\n\n  const handleBackToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLButtonElement>) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      handleBackToTop();\n    }\n  };\n\n  return (\n\n    <footer className=\"footer\">\n      <nav className=\"navbar\">\n        <div className=\"navbar__container\">\n          <div className=\"nav-logo\">\n            <NavLink\n              to=\"/\"\n              onClick={handleBackToTop}\n            >\n              <img src=\"img/icons/logo.svg\" alt=\"logo\" />\n            </NavLink>\n          </div>\n          <div className=\"nav-links\">\n            <a\n              href=\"https://github.com/reseneweb/react_phone-catalog\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Github\n            </a>\n            <NavLink to=\"/contacts\" className={setActiveClass}>\n              Contacts\n            </NavLink>\n            <NavLink to=\"/rights\" className={setActiveClass}>Rights</NavLink>\n          </div>\n          <button\n            type=\"button\"\n            className=\"back-to-top\"\n            onClick={handleBackToTop}\n            onKeyDown={handleKeyDown}\n            aria-label=\"Back to top\"\n          >\n            Back to top\n            <div className=\"icon-container\">\n              <img\n                src=\"img/icons/arrowRight.svg\"\n                alt=\"Go to top\"\n                className=\"arrow-icon\"\n              />\n            </div>\n          </button>\n        </div>\n      </nav>\n    </footer>\n  );\n};\n","import './App.scss';\nimport { useState, useCallback } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport debounce from 'lodash.debounce';\nimport { Header } from './components/Header/Header';\nimport { Footer } from './components/Footer/Footer';\nimport { Product } from './types/Product';\nimport { useLocalStorage } from './hooks/useLocalStorage';\n\nconst App = () => {\n  const [favoritesItems, setFavoritesItems] = useState<Product[]>([]);\n  const [cartItems, setCartItems] = useLocalStorage<Product[]>('cartItems', []);\n  const [appliedQuery, setAppliedQuery] = useState('');\n\n  const applyQuery = useCallback(\n    debounce(setAppliedQuery, 1000),\n    [],\n  );\n\n  const addToFavorites = (product: Product) => {\n    if (!favoritesItems.includes(product)) {\n      setFavoritesItems((prevItems: Product[]) => [...prevItems, product]);\n    }\n  };\n\n  const removeFromFavorites = (productId: Product['id']) => {\n    setFavoritesItems((prevItems: Product[]) => prevItems.filter(\n      (item) => item.id !== productId,\n    ));\n  };\n\n  const addToCart = (product: Product) => {\n    if (!cartItems.includes(product)) {\n      setCartItems([...cartItems, {\n        ...product,\n        quantity: 1,\n      }]);\n    }\n  };\n\n  const removeFromCart = (productId: Product['id']) => {\n    const requiredProduct = cartItems.filter((item) => item.id !== productId);\n\n    if (requiredProduct) {\n      setCartItems(requiredProduct);\n    }\n  };\n\n  const incrementQuantity = (productId: Product['id']) => {\n    setCartItems(cartItems.map((item) => {\n      return item.id === productId\n        ? { ...item, quantity: (item.quantity || 0) + 1 } : item;\n    }));\n  };\n\n  const decrementQuantity = (productId: Product['id']) => {\n    setCartItems(cartItems.map((item) => {\n      return item.id === productId\n        ? { ...item, quantity: Math.max((item.quantity || 0) - 1, 1) }\n        : item;\n    }));\n  };\n\n  return (\n    <div className=\"App\">\n      <Header\n        applyQuery={applyQuery}\n        cartItemsLength={cartItems.length}\n        favoritesItemsLength={favoritesItems.length}\n      />\n      <main className=\"main\">\n        <Outlet\n          context={{\n            favoritesItems,\n            addToFavorites,\n            removeFromFavorites,\n            cartItems,\n            addToCart,\n            removeFromCart,\n            incrementQuantity,\n            decrementQuantity,\n            appliedQuery,\n          }}\n        />\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import { useState } from 'react';\n\nexport function useLocalStorage<T>(\n  key: string, startValue: T,\n): [T, (v: T) => void] {\n  const [value, setValue] = useState(() => {\n    const data = localStorage.getItem(key);\n\n    if (data === null) {\n      return startValue;\n    }\n\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      localStorage.removeItem(key);\n\n      return startValue;\n    }\n  });\n\n  const save = (newValue: T) => {\n    localStorage.setItem(key, JSON.stringify(newValue));\n    setValue(newValue);\n  };\n\n  return [value, save];\n}\n","import { useEffect, useState } from 'react';\nimport './BannerSlider.scss';\n\nconst imageUrls = [\n  'img/banner-phones.png',\n  'img/banner-tablets.png',\n  'img/banner-accessories.png',\n];\n\nexport const BannerSlider: React.FC = () => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const handleNext = () => {\n    setCurrentIndex((prevIndex) => (prevIndex + 1) % imageUrls.length);\n  };\n\n  const handlePrev = () => {\n    setCurrentIndex(prevIndex => (prevIndex - 1 + imageUrls.length)\n    % imageUrls.length);\n  };\n\n  useEffect(() => {\n    const interval = setInterval(handleNext, 5000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <>\n      <div className=\"banner-buttons\">\n        <div className=\"slider-controls\">\n          <button\n            type=\"button\"\n            onClick={handlePrev}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowLeft\"\n              style={{ transform: 'rotate(-90deg)' }}\n            />\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleNext}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowRight\"\n              style={{ transform: 'rotate(90deg)' }}\n            />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"banner-slider\">\n        <div\n          className=\"banner-slider__container\"\n          style={{ transform: `translateX(-${currentIndex * 1040}px)` }}\n        >\n          {imageUrls.map((src) => (\n            <img key={src} src={src} alt=\"BannerSlide\" className=\"slider-img\" />\n          ))}\n        </div>\n\n        <div className=\"box-dots\">\n          <div className=\"dots\">\n            <div className=\"group\">\n              <div className={currentIndex % 3 === 0 ? 'div active' : 'div'} />\n            </div>\n            <div className=\"rectangle-wrapper\">\n              <div className={currentIndex % 3 === 1 ? 'div active' : 'div'} />\n            </div>\n            <div className=\"div-wrapper\">\n              <div className={currentIndex % 3 === 2 ? 'div active' : 'div'} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import { useOutletContext, NavLink } from 'react-router-dom';\nimport { Product } from '../../types/Product';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\n\nimport './ProductCard.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  const {\n    favoritesItems,\n    addToFavorites,\n    removeFromFavorites,\n    cartItems,\n    addToCart,\n    removeFromCart,\n  }\n    = useOutletContext<FavoritesContextType>();\n\n  const containedInFavorites\n    = favoritesItems.some(item => item.id === product.id);\n  const containedInCart\n    = cartItems.some(item => item.id === product.id);\n\n  return (\n    <div key={product.id} className=\"product-card\">\n      <NavLink to={`/product/${product.phoneId}`} className=\"product-card__link\">\n        <img\n          src={`${product.image}`}\n          alt={product.name}\n        />\n        <p className=\"product-name\">{product.name}</p>\n      </NavLink>\n      <h2 className=\"price\">\n        $\n        {product.price}\n        {product.price !== product.fullPrice && (\n          <span className=\"old-price\">\n            $\n            {product.fullPrice}\n          </span>\n        )}\n      </h2>\n      <ul className=\"specs\">\n        <li>\n          Screen\n          <span className=\"specs__value\">{product.screen}</span>\n        </li>\n        <li>\n          Capacity\n          <span className=\"specs__value\">{product.capacity}</span>\n        </li>\n        <li>\n          RAM\n          <span className=\"specs__value\">{product.ram}</span>\n        </li>\n      </ul>\n      <div className=\"actions\">\n        <button\n          type=\"button\"\n          className={containedInCart\n            ? 'add-to-cart add-to-cart--selected' : 'add-to-cart'}\n          onClick={() => {\n            return containedInCart ? removeFromCart(product.id)\n              : addToCart(product);\n          }}\n        >\n          {containedInCart ? 'Added to cart' : 'Add to cart'}\n        </button>\n\n        <button\n          data-cy=\"addToFavorite\"\n          type=\"button\"\n          className=\"favorite\"\n          onClick={() => {\n            return containedInFavorites ? removeFromFavorites(product.id)\n              : addToFavorites(product);\n          }}\n        >\n          <img\n            src={containedInFavorites\n              ? 'img/icons/favouritesSelected.svg'\n              : 'img/icons/favourites.svg'}\n            alt=\"Add to favorites\"\n            className=\"favorite__img\"\n          />\n        </button>\n      </div>\n    </div>\n  );\n};\n","import { useState } from 'react';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './ProductsSlider.scss';\n\ntype Props = {\n  title: string;\n  products: Product[];\n};\n\nexport const ProductsSlider: React.FC<Props> = ({ title, products }) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const handleNext = () => {\n    setCurrentIndex(prevIndex => {\n      return prevIndex + 1 < products.length\n        ? prevIndex + 1 : prevIndex;\n    });\n  };\n\n  const handlePrev = () => {\n    setCurrentIndex(prevIndex => {\n      return prevIndex - 1 >= 0 ? prevIndex - 1 : prevIndex;\n    });\n  };\n\n  return (\n    <div className=\"products-slider\">\n      <div className=\"slider-header\">\n        <h1>{title}</h1>\n        <div className=\"slider-controls\">\n          <button\n            type=\"button\"\n            onClick={handlePrev}\n            disabled={currentIndex === 0}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowLeft\"\n              style={{ transform: 'rotate(-90deg)' }}\n            />\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleNext}\n            disabled={currentIndex === products.length - 4}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowRight\"\n              style={{ transform: 'rotate(90deg)' }}\n            />\n          </button>\n        </div>\n      </div>\n      <div\n        data-cy=\"cardsContainer\"\n        className=\"slider-container\"\n        style={{ transform: `translateX(-${currentIndex * (272 + 16)}px)` }}\n      >\n        {products.map((product) => (\n          <ProductCard key={product.id} product={product} />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport './ShopByCategory.scss';\n\nexport const ShopByCategory = () => (\n  <div className=\"shop-by-category\">\n    <div className=\"category-header\">Shop by category</div>\n    <div data-cy=\"categoryLinksContainer\" className=\"categories\">\n      <NavLink to=\"/phones\" className=\"category-item\">\n        <img\n          className=\"category-image\"\n          src=\"img/ShopByCategoryImgs/phones-2.png\"\n          alt=\"Mobile phones\"\n        />\n        <div className=\"category-info\">\n          <div className=\"text-wrapper\">Mobile phones</div>\n          <div className=\"models-count\">95 models</div>\n        </div>\n      </NavLink>\n      <NavLink to=\"/tablets\" className=\"category-item\">\n        <img\n          className=\"category-image\"\n          src=\"img/ShopByCategoryImgs/phones-1.png\"\n          alt=\"Tablets\"\n        />\n        <div className=\"category-info\">\n          <div className=\"text-wrapper\">Tablets</div>\n          <div className=\"models-count\">24 models</div>\n        </div>\n      </NavLink>\n      <NavLink to=\"/accessories\" className=\"category-item\">\n        <img\n          className=\"category-image\"\n          src=\"img/ShopByCategoryImgs/phones.png\"\n          alt=\"Accessories\"\n        />\n        <div className=\"category-info\">\n          <div className=\"text-wrapper\">Accessories</div>\n          <div className=\"models-count\">100 models</div>\n        </div>\n      </NavLink>\n    </div>\n  </div>\n);\n","import { useState, useEffect } from 'react';\nimport { BannerSlider } from '../../components/BannerSlider/BannerSlider';\nimport { ProductsSlider } from '../../components/ProductsSlider/ProductsSlider';\nimport { ShopByCategory } from '../../components/ShopByCategory/ShopByCategory';\nimport { Product } from '../../types/Product';\nimport './HomePage.scss';\n\nexport const HomePage = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [hasError, setHasError] = useState<string>('');\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response\n        = await fetch(\n          'https://mate-academy.github.io/react_phone-catalog/'\n          + '_new/products.json',\n        );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n\n        setProducts(data);\n      } catch (error) {\n        setHasError('Something went wrong');\n      }\n    };\n\n    fetchProducts();\n  }, []);\n\n  const getHotPriceProducts = () => {\n    return products\n      .filter(product => product.fullPrice !== product.price)\n      .sort((a, b) => {\n        const discountA: number = a.fullPrice - a.price;\n        const discountB: number = b.fullPrice - b.price;\n\n        return discountB - discountA;\n      });\n  };\n\n  const getBrandNewProducts = () => {\n    return products\n      .sort((a, b) => b.fullPrice - a.fullPrice);\n  };\n\n  const hotPriceProducts = getHotPriceProducts();\n  const brandNewProducts = getBrandNewProducts();\n\n  return (\n    <div>\n      <BannerSlider />\n\n      {hasError && (\n        <p>{hasError}</p>\n      )}\n\n      {!hasError && !!products.length && (\n        <>\n          <ProductsSlider title=\"Hot prices\" products={hotPriceProducts} />\n          <ShopByCategory />\n          <ProductsSlider\n            title=\"Brand new models\"\n            products={brandNewProducts}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import './ProductsList.scss';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard/ProductCard';\n\ntype Props = {\n  products: Product[];\n};\n\nexport const ProductsList: React.FC<Props> = ({ products }) => {\n  return (\n    <div data-cy=\"productList\" className=\"productList\">\n      {products.map((product) => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import React from 'react';\nimport { getNumbers } from '../../utils/utils';\nimport './Pagination.scss';\n\ntype Props = {\n  total: number,\n  perPage: number,\n  currentPage: number,\n  onPageChange: (currentPage: number) => void,\n};\n\nexport const Pagination: React.FC<Props> = ({\n  total,\n  perPage,\n  currentPage = 1,\n  onPageChange,\n}) => {\n  const numberOfLinks = Math.ceil(total / perPage);\n  const handleLinkClick = (link: number) => {\n    if (link !== currentPage) {\n      onPageChange(link);\n    }\n  };\n\n  const handleClickToPrevious = (previousLink: number) => {\n    if (currentPage !== 1) {\n      onPageChange(previousLink);\n    }\n  };\n\n  const handleClickToNext = (nextLink: number) => {\n    if (currentPage !== numberOfLinks) {\n      onPageChange(nextLink);\n    }\n  };\n\n  return (\n    <>\n      <ul className=\"pagination\" data-cy=\"pagination\">\n        <li className=\"page-item\">\n          <button\n            data-cy=\"paginationLeft\"\n            type=\"button\"\n            className=\"page-button\"\n            disabled={currentPage === 1}\n            onClick={() => handleClickToPrevious(currentPage - 1)}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowLeft\"\n              style={{ transform: 'rotate(-90deg)' }}\n            />\n          </button>\n        </li>\n\n        {getNumbers(1, numberOfLinks).map((link) => (\n          <li key={link} className=\"page-item\">\n            <button\n              type=\"button\"\n              data-cy=\"pageLink\"\n              key={link}\n              className={link === currentPage\n                ? 'page-link active' : 'page-link'}\n              onClick={() => handleLinkClick(link)}\n            >\n              {link}\n            </button>\n          </li>\n        ))}\n\n        <li className=\"page-item\">\n          <button\n            data-cy=\"paginationRight\"\n            type=\"button\"\n            className=\"page-button\"\n            disabled={currentPage === numberOfLinks}\n            onClick={() => handleClickToNext(currentPage + 1)}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowRight\"\n              style={{ transform: 'rotate(90deg)' }}\n            />\n          </button>\n        </li>\n      </ul>\n    </>\n  );\n};\n","import './NoResults.scss';\n\ntype Props = {\n  productName: string;\n};\n\nexport const NoResults: React.FC<Props> = ({ productName }) => {\n  return (\n    <p className=\"no-results\">\n      {`${productName} not found`}\n    </p>\n  );\n};\n","import './NoSearchResults.scss';\n\nexport const NoSearchResults = () => {\n  return (\n    <p className=\"noSearchResults\">There are no products matching the query</p>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { NavLink, useOutletContext, useSearchParams } from 'react-router-dom';\n\nimport './PhonesPage.scss';\nimport { Product } from '../../types/Product';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { Loader } from '../../components/Loader';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport {\n  NoSearchResults,\n} from '../../components/NoSearchResults/NoSearchResults';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\n\nexport const PhonesPage = () => {\n  const [phones, setPhones] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [hasError, setHasError] = useState<string>('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [sortedPhones, setSortedPhones] = useState(() => {\n    return [...phones].sort((a, b) => b.year - a.year);\n  });\n\n  const [displayedPhones, setDisplayedPhones] = useState<Product[]>([]);\n\n  const { appliedQuery }\n    = useOutletContext<FavoritesContextType>();\n\n  useEffect(() => {\n    const getPhones = async () => {\n      setIsLoading(true);\n      try {\n        const response\n        = await fetch(\n          'https://mate-academy.github.io/react_phone-catalog/'\n          + '_new/products.json',\n        );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n        const currentPhones\n          = data.filter((product: Product) => product.category === 'phones');\n\n        setPhones(currentPhones);\n      } catch (error) {\n        setHasError('Something went wrong');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getPhones();\n  }, []);\n\n  useEffect(() => {\n    setSortedPhones([...phones].sort((a, b) => b.year - a.year));\n  }, [phones]);\n\n  useEffect(() => {\n    let result = [...sortedPhones];\n\n    if (appliedQuery) {\n      result = result.filter(product => {\n        return product.name.toLowerCase().includes(appliedQuery.toLowerCase());\n      });\n    }\n\n    setDisplayedPhones(result);\n  }, [appliedQuery, sortedPhones]);\n\n  const sortProducts = (sortValue: string) => {\n    let sortedArray;\n\n    switch (sortValue) {\n      case 'age':\n        sortedArray = [...phones].sort((a, b) => b.year - a.year);\n        break;\n      case 'name':\n        sortedArray = [...phones].sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'price':\n        sortedArray = [...phones].sort((a, b) => a.price - b.price);\n        break;\n      default:\n        sortedArray = phones;\n    }\n\n    setSortedPhones(sortedArray);\n    const params = new URLSearchParams(searchParams);\n\n    params.set('sort', sortValue);\n    setSearchParams(params);\n  };\n\n  const handleSortChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    sortProducts(event.target.value);\n  };\n\n  const total = displayedPhones.length;\n  const sortBy = searchParams.get('sort') || 'age';\n  const perPage = +(searchParams.get('perPage') || 16);\n  const currentPage = +(searchParams.get('page') || 1);\n  const indexOfLastItem = currentPage * perPage;\n  const indexOfFirstItem = indexOfLastItem - perPage;\n  const currentItems = displayedPhones.slice(indexOfFirstItem, indexOfLastItem);\n\n  const handlePerPageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const params = new URLSearchParams(searchParams);\n\n    if (+event.target.value > perPage) {\n      params.set('page', '1');\n    }\n\n    params.set('perPage', event.target.value);\n    setSearchParams(params);\n  };\n\n  const onPageChange = (link: number) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', link.toString());\n    setSearchParams(params);\n  };\n\n  return (\n    <div className=\"phonesPage\">\n      <div className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <NavLink\n            to=\"/\"\n          >\n            <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n          </NavLink>\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n        />\n        <p className=\"pathInscription__text\">Phones</p>\n      </div>\n      <h1 className=\"phonesPage__title\">Mobile phones</h1>\n      <p className=\"phonesPage__count\">95 models</p>\n\n      {isLoading && <Loader />}\n\n      {hasError && (\n        <p>{hasError}</p>\n      )}\n\n      {!phones.length && !isLoading && !hasError && !appliedQuery && (\n        <NoResults productName=\"Phones\" />\n      )}\n\n      {!displayedPhones.length && appliedQuery && !isLoading && !hasError && (\n        <NoSearchResults />\n      )}\n\n      {!isLoading && !hasError && !!displayedPhones.length && (\n        <>\n          <div className=\"sorting\">\n            <label className=\"sorting__label\">\n              <p className=\"sorting__title\">Sort by</p>\n              <select\n                onChange={handleSortChange}\n                className=\"sorting__options\"\n                value={sortBy}\n              >\n                <option value=\"age\" className=\"sorting__option\">Newest</option>\n                <option value=\"name\" className=\"sorting__option\">\n                  Alphabetically\n                </option>\n                <option\n                  value=\"price\"\n                  className=\"sorting__option\"\n                >\n                  Cheapest\n                </option>\n              </select>\n            </label>\n\n            <div className=\"pagination\">\n              <div className=\"form-group\">\n                <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n                  Items on page\n                </label>\n\n                <div className=\"col-3 col-sm-2 col-xl-1\">\n                  <select\n                    data-cy=\"perPageSelector\"\n                    id=\"perPageSelector\"\n                    className=\"form-control\"\n                    onChange={handlePerPageChange}\n                    value={perPage}\n                  >\n                    <option value=\"4\" className=\"form-control__option\">\n                      4\n                    </option>\n                    <option value=\"8\" className=\"form-control__option\">\n                      8\n                    </option>\n                    <option value=\"16\" className=\"form-control__option\">\n                      16\n                    </option>\n                    <option value={total} className=\"form-control__option\">\n                      all\n                    </option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <ProductsList products={currentItems} />\n          {total / perPage > 1 && (\n            <Pagination\n              total={total}\n              perPage={perPage}\n              currentPage={currentPage}\n              onPageChange={onPageChange}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { NavLink, useOutletContext, useSearchParams } from 'react-router-dom';\nimport './TabletsPage.scss';\nimport { Product } from '../../types/Product';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { Loader } from '../../components/Loader';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport {\n  NoSearchResults,\n} from '../../components/NoSearchResults/NoSearchResults';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\n\nexport const TabletsPage = () => {\n  const [tablets, setTablets] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [hasError, setHasError] = useState<string>('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [sortedTablets, setSortedTablets] = useState(() => {\n    return [...tablets].sort((a, b) => b.year - a.year);\n  });\n\n  const [displayedTablets, setDisplayedTablets] = useState<Product[]>([]);\n\n  const { appliedQuery }\n  = useOutletContext<FavoritesContextType>();\n\n  useEffect(() => {\n    const getTablets = async () => {\n      setIsLoading(true);\n      try {\n        const response\n        = await fetch(\n          'https://mate-academy.github.io/react_phone-catalog/'\n          + '_new/products.json',\n        );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n        const currentTablets\n          = data.filter((product: Product) => product.category === 'tablets');\n\n        setTablets(currentTablets);\n      } catch (error) {\n        setHasError('Something went wrong');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getTablets();\n  }, []);\n\n  useEffect(() => {\n    setSortedTablets([...tablets].sort((a, b) => b.year - a.year));\n  }, [tablets]);\n\n  useEffect(() => {\n    let result = [...sortedTablets];\n\n    if (appliedQuery) {\n      result = result.filter(product => {\n        return product.name.toLowerCase().includes(appliedQuery.toLowerCase());\n      });\n    }\n\n    setDisplayedTablets(result);\n  }, [appliedQuery, sortedTablets]);\n\n  const sortProducts = (sortValue: string) => {\n    let sortedArray;\n\n    switch (sortValue) {\n      case 'age':\n        sortedArray = [...tablets].sort((a, b) => b.year - a.year);\n        break;\n      case 'name':\n        sortedArray = [...tablets].sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'price':\n        sortedArray = [...tablets].sort((a, b) => a.price - b.price);\n        break;\n      default:\n        sortedArray = tablets;\n    }\n\n    setSortedTablets(sortedArray);\n    const params = new URLSearchParams(searchParams);\n\n    params.set('sort', sortValue);\n    setSearchParams(params);\n  };\n\n  const handleSortChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    sortProducts(event.target.value);\n  };\n\n  const total = displayedTablets.length;\n  const sortBy = searchParams.get('sort') || 'age';\n  const perPage = +(searchParams.get('perPage') || 16);\n  const currentPage = +(searchParams.get('page') || 1);\n  const indexOfLastItem = currentPage * perPage;\n  const indexOfFirstItem = indexOfLastItem - perPage;\n  const currentItems\n    = displayedTablets.slice(indexOfFirstItem, indexOfLastItem);\n\n  const handlePerPageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const params = new URLSearchParams(searchParams);\n\n    if (+event.target.value > perPage) {\n      params.set('page', '1');\n    }\n\n    params.set('perPage', event.target.value);\n    setSearchParams(params);\n  };\n\n  const onPageChange = (link: number) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', link.toString());\n    setSearchParams(params);\n  };\n\n  return (\n    <div className=\"tabletsPage\">\n      <div className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <NavLink\n            to=\"/\"\n          >\n            <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n          </NavLink>\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n        />\n        <p className=\"pathInscription__text\">Tablets</p>\n      </div>\n      <h1 className=\"tabletsPage__title\">Tablets</h1>\n      <p className=\"tabletsPage__count\">{`${total} models`}</p>\n\n      {isLoading && <Loader />}\n\n      {hasError && (\n        { hasError }\n      )}\n\n      {!tablets.length && !isLoading && !hasError && !appliedQuery && (\n        <NoResults productName=\"Tablets\" />\n      )}\n\n      {!displayedTablets.length && appliedQuery && !isLoading && !hasError && (\n        <NoSearchResults />\n      )}\n\n      {!isLoading && !hasError && !!displayedTablets.length && (\n        <>\n          <div className=\"sorting\">\n            <label className=\"sorting__label\">\n              <p className=\"sorting__title\">Sort by</p>\n              <select\n                onChange={handleSortChange}\n                className=\"sorting__options\"\n                value={sortBy}\n              >\n                <option value=\"age\" className=\"sorting__option\">Newest</option>\n                <option value=\"name\" className=\"sorting__option\">\n                  Alphabetically\n                </option>\n                <option\n                  value=\"price\"\n                  className=\"sorting__option\"\n                >\n                  Cheapest\n                </option>\n              </select>\n            </label>\n\n            <div className=\"pagination\">\n              <div className=\"form-group\">\n                <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n                  Items on page\n                </label>\n\n                <div className=\"col-3 col-sm-2 col-xl-1\">\n                  <select\n                    data-cy=\"perPageSelector\"\n                    id=\"perPageSelector\"\n                    className=\"form-control\"\n                    onChange={handlePerPageChange}\n                    value={perPage}\n                  >\n                    <option value=\"4\" className=\"form-control__option\">\n                      4\n                    </option>\n                    <option value=\"8\" className=\"form-control__option\">\n                      8\n                    </option>\n                    <option value=\"16\" className=\"form-control__option\">\n                      16\n                    </option>\n                    <option value={total} className=\"form-control__option\">\n                      all\n                    </option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <ProductsList products={currentItems} />\n          {total / perPage > 1 && (\n            <Pagination\n              total={total}\n              perPage={perPage}\n              currentPage={currentPage}\n              onPageChange={onPageChange}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { NavLink, useOutletContext, useSearchParams } from 'react-router-dom';\n\nimport './AccessoriesPage.scss';\nimport { Product } from '../../types/Product';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { Loader } from '../../components/Loader';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport {\n  NoSearchResults,\n} from '../../components/NoSearchResults/NoSearchResults';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\n\nexport const AccessoriesPage = () => {\n  const [accessories, setAccessories] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [hasError, setHasError] = useState<string>('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [sortedAccessories, setSortedAccessories] = useState(() => {\n    return [...accessories].sort((a, b) => b.year - a.year);\n  });\n\n  const [displayedAccessories, setDisplayedAccessories]\n  = useState<Product[]>([]);\n\n  const { appliedQuery }\n  = useOutletContext<FavoritesContextType>();\n\n  useEffect(() => {\n    const getAccessories = async () => {\n      setIsLoading(true);\n      try {\n        const response\n        = await fetch(\n          'https://mate-academy.github.io/react_phone-catalog/'\n          + '_new/products.json',\n        );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n        const currentAccessories\n          = data.filter((product: Product) => product.category === 'accessory');\n\n        setAccessories(currentAccessories);\n      } catch (error) {\n        setHasError('Something went wrong');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getAccessories();\n  }, []);\n\n  useEffect(() => {\n    setSortedAccessories([...accessories].sort((a, b) => b.year - a.year));\n  }, [accessories]);\n\n  useEffect(() => {\n    let result = [...sortedAccessories];\n\n    if (appliedQuery) {\n      result = result.filter(product => {\n        return product.name.toLowerCase().includes(appliedQuery.toLowerCase());\n      });\n    }\n\n    setDisplayedAccessories(result);\n  }, [appliedQuery, sortedAccessories]);\n\n  const sortProducts = (sortValue: string) => {\n    let sortedArray;\n\n    switch (sortValue) {\n      case 'age':\n        sortedArray = [...accessories].sort((a, b) => b.year - a.year);\n        break;\n      case 'name':\n        sortedArray\n        = [...accessories].sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'price':\n        sortedArray = [...accessories].sort((a, b) => a.price - b.price);\n        break;\n      default:\n        sortedArray = accessories;\n    }\n\n    setSortedAccessories(sortedArray);\n    const params = new URLSearchParams(searchParams);\n\n    params.set('sort', sortValue);\n    setSearchParams(params);\n  };\n\n  const handleSortChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    sortProducts(event.target.value);\n  };\n\n  const total = displayedAccessories.length;\n  const sortBy = searchParams.get('sort') || 'age';\n  const perPage = +(searchParams.get('perPage') || 16);\n  const currentPage = +(searchParams.get('page') || 1);\n  const indexOfLastItem = currentPage * perPage;\n  const indexOfFirstItem = indexOfLastItem - perPage;\n  const currentItems\n  = displayedAccessories.slice(indexOfFirstItem, indexOfLastItem);\n\n  const handlePerPageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const params = new URLSearchParams(searchParams);\n\n    if (+event.target.value > perPage) {\n      params.set('page', '1');\n    }\n\n    params.set('perPage', event.target.value);\n    setSearchParams(params);\n  };\n\n  const onPageChange = (link: number) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', link.toString());\n    setSearchParams(params);\n  };\n\n  return (\n    <div className=\"accessoriesPage\">\n      <div className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <NavLink\n            to=\"/\"\n          >\n            <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n          </NavLink>\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n        />\n        <p className=\"pathInscription__text\">Accessories</p>\n      </div>\n      <h1 className=\"accessoriesPage__title\">Accessories</h1>\n      <p className=\"accessoriesPage__count\">{`${total} models`}</p>\n\n      {isLoading && <Loader />}\n\n      {hasError && (\n        <p>{hasError}</p>\n      )}\n\n      {!accessories.length && !isLoading && !hasError && !appliedQuery && (\n        <NoResults productName=\"Accessories\" />\n      )}\n\n      {!displayedAccessories.length && appliedQuery\n      && !isLoading && !hasError && (\n        <NoSearchResults />\n      )}\n\n      {!isLoading && !hasError && !!displayedAccessories.length && (\n        <>\n          <div className=\"sorting\">\n            <label className=\"sorting__label\">\n              <p className=\"sorting__title\">Sort by</p>\n              <select\n                onChange={handleSortChange}\n                className=\"sorting__options\"\n                value={sortBy}\n              >\n                <option value=\"age\" className=\"sorting__option\">Newest</option>\n                <option value=\"name\" className=\"sorting__option\">\n                  Alphabetically\n                </option>\n                <option\n                  value=\"price\"\n                  className=\"sorting__option\"\n                >\n                  Cheapest\n                </option>\n              </select>\n            </label>\n\n            <div className=\"pagination\">\n              <div className=\"form-group\">\n                <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n                  Items on page\n                </label>\n\n                <div className=\"col-3 col-sm-2 col-xl-1\">\n                  <select\n                    data-cy=\"perPageSelector\"\n                    id=\"perPageSelector\"\n                    className=\"form-control\"\n                    onChange={handlePerPageChange}\n                    value={perPage}\n                  >\n                    <option value=\"4\" className=\"form-control__option\">\n                      4\n                    </option>\n                    <option value=\"8\" className=\"form-control__option\">\n                      8\n                    </option>\n                    <option value=\"16\" className=\"form-control__option\">\n                      16\n                    </option>\n                    <option value={total} className=\"form-control__option\">\n                      all\n                    </option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <ProductsList products={currentItems} />\n          {total / perPage > 1 && (\n            <Pagination\n              total={total}\n              perPage={perPage}\n              currentPage={currentPage}\n              onPageChange={onPageChange}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { NavLink, useOutletContext } from 'react-router-dom';\nimport {\n  NoSearchResults,\n} from '../../components/NoSearchResults/NoSearchResults';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\nimport { Product } from '../../types/Product';\nimport './FavoritesPage.scss';\n\nexport const FavoritesPage = () => {\n  const { favoritesItems, appliedQuery }\n    = useOutletContext<FavoritesContextType>();\n\n  const [displayedFavorites, setDisplayedFavorites]\n    = useState<Product[]>([]);\n\n  useEffect(() => {\n    let result = [...favoritesItems];\n\n    if (appliedQuery) {\n      result = result.filter(product => {\n        return product.name.toLowerCase().includes(appliedQuery.toLowerCase());\n      });\n    }\n\n    setDisplayedFavorites(result);\n  }, [appliedQuery, favoritesItems]);\n\n  return (\n    <div className=\"favoritesPage\">\n      <div className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <NavLink\n            to=\"/\"\n          >\n            <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n          </NavLink>\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n        />\n        <p className=\"pathInscription__text\">Favourites</p>\n      </div>\n      <h1 className=\"favoritesPage__title\">Favourites</h1>\n\n      {!favoritesItems.length && !appliedQuery && (\n        <p className=\"favoritesPage__empty-message\">Your favourites is empty</p>\n      )}\n\n      {!displayedFavorites.length && appliedQuery && (\n        <NoSearchResults />\n      )}\n\n      {displayedFavorites.length > 0 && (\n        <>\n          <p className=\"favoritesPage__count\">{`${displayedFavorites.length} item${displayedFavorites.length > 1 ? 's' : ''}`}</p>\n          <ProductsList products={displayedFavorites} />\n        </>\n      )}\n    </div>\n  );\n};\n","import { useOutletContext } from 'react-router-dom';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\nimport { Product } from '../../types/Product';\nimport './CartItem.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const CartItem: React.FC<Props> = ({ product }) => {\n  const {\n    removeFromCart,\n    incrementQuantity,\n    decrementQuantity,\n  }\n    = useOutletContext<FavoritesContextType>();\n\n  return (\n    <div className=\"cartItem\">\n      <button\n        data-cy=\"cartDeleteButton\"\n        type=\"button\"\n        className=\"cartItem__delete-button\"\n        onClick={() => product && removeFromCart(product.id)}\n      >\n        <img\n          src=\"img/icons/close.svg\"\n          alt=\"delete-button\"\n        />\n      </button>\n\n      <img\n        src={`${product.image}`}\n        alt={product.name}\n        className=\"cartItem__img\"\n      />\n\n      <p className=\"cartItem__name\">{product.name}</p>\n\n      <div className=\"cartItem__counter\">\n        <button\n          type=\"button\"\n          className=\"counter-button\"\n          disabled={product.quantity === 1 || !product.quantity}\n          onClick={() => product && decrementQuantity(product.id)}\n        >\n          <img\n            src={product.quantity === 1 || !product.quantity\n              ? 'img/icons/Minus.svg' : 'img/icons/MinusDark.svg'}\n            alt=\"counter-button\"\n          />\n        </button>\n        <span\n          data-cy=\"productQuantity\"\n          className=\"counter-quantity\"\n        >\n          {product.quantity || 1}\n        </span>\n        <button\n          type=\"button\"\n          className=\"counter-button\"\n          onClick={() => incrementQuantity(product.id)}\n        >\n          <img\n            src=\"img/icons/Plus.svg\"\n            alt=\"counter-button\"\n          />\n        </button>\n      </div>\n\n      <h2 className=\"price\">\n        $\n        {product.price * (product.quantity || 1)}\n      </h2>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useNavigate, useOutletContext } from 'react-router-dom';\nimport { CartItem } from '../../components/CartItem/CartItem';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\nimport { Product } from '../../types/Product';\nimport './CartPage.scss';\n\nexport const CartPage = () => {\n  const [checkoutMessage, setCheckoutMessage] = useState('');\n  const navigate = useNavigate();\n  const {\n    cartItems,\n  }\n    = useOutletContext<FavoritesContextType>();\n\n  let totalAmount = 0;\n\n  const totalPrice = cartItems.reduce((acc, product) => {\n    totalAmount += product.quantity || 1;\n    const itemTotal = product.price * (product.quantity || 1);\n\n    return acc + itemTotal;\n  }, 0);\n\n  const handleBackButtonClick = () => {\n    navigate(-1);\n  };\n\n  const handleCheckoutClick = () => {\n    setCheckoutMessage('We are sorry, but this feature is not implemented yet');\n  };\n\n  useEffect(() => {\n    let timer: number | undefined;\n\n    if (checkoutMessage) {\n      timer = window.setTimeout(() => {\n        setCheckoutMessage('');\n      }, 3000);\n    }\n\n    return () => {\n      window.clearTimeout(timer);\n    };\n  }, [checkoutMessage]);\n\n  return (\n    <div className=\"cartPage\">\n      <button\n        type=\"button\"\n        className=\"cartPage__back-button\"\n        data-cy=\"backButton\"\n        onClick={handleBackButtonClick}\n      >\n        <img\n          src=\"img/icons/arrowRight.svg\"\n          alt=\"arrowLeft\"\n          className=\"pathInscription__arrowRight\"\n          style={{ transform: 'rotate(-90deg)' }}\n        />\n        <p className=\"pathInscription__text\">Back</p>\n      </button>\n\n      <h1 className=\"cartPage__title\">Cart</h1>\n\n      <div className=\"cartPage__container\">\n        {cartItems && cartItems.length > 0 ? (\n          <>\n            <div data-cy=\"cartList\" className=\"cartPage__cartList\">\n              {cartItems.map((product: Product) => (\n                <CartItem key={product.id} product={product} />\n              ))}\n            </div>\n\n            <div className=\"cartPage__total\">\n              <h1>\n                $\n                {totalPrice}\n              </h1>\n              <p className=\"cartPage__total-text\">{`Total for ${totalAmount} item${totalAmount > 1 ? 's' : ''}`}</p>\n\n              <button\n                type=\"button\"\n                className=\"cartPage__checkout\"\n                onClick={handleCheckoutClick}\n              >\n                Checkout\n              </button>\n              {checkoutMessage && (\n                <p className=\"cartPage__checkout-message\">{checkoutMessage}</p>\n              )}\n            </div>\n          </>\n        ) : (\n          <p className=\"cartPage__empty-message\">Your cart is empty</p>\n        )}\n      </div>\n    </div>\n  );\n};\n","import './ContactsPage.scss';\n\nexport const ContactsPage = () => {\n  return (\n    <div className=\"contacts-page\">\n      <h1>Contact Information</h1>\n      <p>\n        {`If you have any questions about the Phone Catalog project or would \n    like to get in touch, please feel free to reach out.`}\n      </p>\n      <p>\n        {'Phone: '}\n        <a href=\"tel:+380635349175\">+380635349175</a>\n      </p>\n      <p>\n        Viber/Telegram: +380635349175\n      </p>\n      <p>\n        {'Email: '}\n        <a href=\"mailto:info@example.com\">reseneweb@gmail.com</a>\n      </p>\n      <p>\n        {'GitHub: '}\n        <a\n          href=\"https://github.com/reseneweb\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          reseneweb\n        </a>\n      </p>\n    </div>\n  );\n};\n","import './RightsPage.scss';\n\nexport const RightsPage = () => {\n  return (\n    <div className=\"rights-page\">\n      <h1>Rights and Usage</h1>\n      <p>\n        {`This catalog is a pet project designed to showcase a collection of phones. \n  The information provided is for educational purposes only. All product names, \n  logos, and brands are property of their respective owners. Use of these names, \n  logos, and brands does not imply endorsement.`}\n      </p>\n      <p>\n        {`The content of this project is licensed under the MIT License unless stated \n  otherwise. Please feel free to explore the code and use it as a reference for \n  learning and development.`}\n      </p>\n    </div>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport './NotFoundPage.scss';\n\nexport const NotFoundPage = () => {\n  return (\n    <div className=\"notFoundPage\">\n      <NavLink to=\"/\" className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n          style={{ transform: 'rotate(180deg)' }}\n        />\n        <p className=\"pathInscription__text\">Back to Home Page</p>\n      </NavLink>\n      <h1 className=\"notFoundPage__text\">Page not found</h1>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  useOutletContext,\n  NavLink,\n} from 'react-router-dom';\nimport './ProductDetailsPage.scss';\nimport { Loader } from '../../components/Loader';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport { ProductDetails } from '../../types/ProductDetails';\nimport { Product } from '../../types/Product';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\nimport { ProductsSlider } from '../../components/ProductsSlider/ProductsSlider';\n\nexport const ProductDetailsPage = () => {\n  const { productId } = useParams<{ productId: string }>();\n  const navigate = useNavigate();\n  const [productDetails, setProductDetails]\n    = useState<ProductDetails | null>(null);\n  const [product, setProduct]\n    = useState<Product | null>(null);\n  const [products, setProducts] = useState<Product[]>([]);\n  const [selectedColor, setSelectedColor] = useState<string>('');\n\n  const [selectedImage, setSelectedImage]\n    = useState<string>(productDetails?.images[0] || '');\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [hasError, setHasError] = useState<string>('');\n  const [thisModelProducts, setThisModelProducts] = useState<Product[]>([]);\n  const [suggestedProducts, setSuggestedProducts] = useState<Product[]>([]);\n  const {\n    favoritesItems,\n    addToFavorites,\n    removeFromFavorites,\n    cartItems,\n    addToCart,\n    removeFromCart,\n  }\n    = useOutletContext<FavoritesContextType>();\n\n  const containedInFavorites\n    = favoritesItems.some(item => item.id === product?.id);\n  const containedInCart\n    = cartItems.some(item => item.id === product?.id);\n\n  const getProduct = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(`https://mate-academy.github.io/react_phone-catalog/_new/products/${productId}.json`);\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await response.json();\n\n      setProductDetails(data);\n      setSelectedImage(data.images[0]);\n    } catch (error) {\n      setHasError('Something went wrong');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getProduct();\n  }, [productId]);\n\n  useEffect(() => {\n    if (selectedColor) {\n      const baseProductId = productId?.split('-').slice(0, -1).join('-');\n      const newProductId = `${baseProductId}-${selectedColor}`;\n\n      navigate(`/product/${newProductId}`);\n      getProduct();\n    }\n  }, [selectedColor, productId]);\n\n  const handleColorClick = (color: string) => {\n    setSelectedColor(color);\n  };\n\n  const handleImageClick = (image: string) => {\n    setSelectedImage(image);\n  };\n\n  const handleKeyDown\n    = (event: React.KeyboardEvent<HTMLButtonElement>, color: string) => {\n      if (event.key === 'Enter') {\n        handleColorClick(color);\n      }\n    };\n\n  useEffect(() => {\n    const getPhones = async () => {\n      setIsLoading(true);\n      try {\n        const response\n        = await fetch(\n          'https://mate-academy.github.io/react_phone-catalog/'\n          + '_new/products.json',\n        );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n        const foundProduct\n          = data.find((item: Product) => productDetails?.id === item.itemId);\n\n        const currentProducts\n          = data.filter((item: Product) => {\n            return productDetails?.id.split('-').slice(0, -1).join('-')\n              === item.itemId.split('-').slice(0, -1).join('-');\n          });\n\n        setThisModelProducts(currentProducts);\n        setProduct(foundProduct);\n        setProducts(data);\n      } catch (error) {\n        setHasError('Something went wrong');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getPhones();\n  }, [productDetails, productId]);\n\n  const handleCapacityClick = (capacity: string) => {\n    const newProductId = `${productId?.split('-').slice(0, -2).join('-')}-${capacity.toLocaleLowerCase()}-${product?.color}`;\n\n    navigate(`/product/${newProductId}`);\n  };\n\n  const handleBackButtonClick = () => {\n    navigate(-1);\n  };\n\n  useEffect(() => {\n    const shuffleProducts = () => {\n      const shuffled = [...products];\n\n      for (let i = shuffled.length - 1; i > 0; i -= 1) {\n        const j = Math.floor(Math.random() * (i + 1));\n\n        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n      }\n\n      return shuffled;\n    };\n\n    if (products.length > 0) {\n      setSuggestedProducts(shuffleProducts());\n    }\n  }, [products]);\n\n  return (\n    <div className=\"productDetailsPage\">\n      {isLoading && <Loader />}\n\n      {hasError && (\n        <NoResults productName=\"Product\" />\n      )}\n\n      {!isLoading && !hasError && !!productDetails && (\n        <>\n          <div className=\"pathInscription\" data-cy=\"breadCrumbs\">\n            <div className=\"nav-logo\">\n              <NavLink\n                to=\"/\"\n              >\n                <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n              </NavLink>\n            </div>\n            <img\n              src=\"img/icons/GrayArrowRight.svg\"\n              alt=\"arrowRight\"\n              className=\"pathInscription__arrowRight\"\n            />\n            <NavLink\n              to=\"/phones\"\n              className=\"pathInscription__text pathInscription__text--link\"\n            >\n              Phones\n            </NavLink>\n            <img\n              src=\"img/icons/GrayArrowRight.svg\"\n              alt=\"arrowRight\"\n              className=\"pathInscription__arrowRight\"\n            />\n            <p className=\"pathInscription__text\">{productDetails.name}</p>\n          </div>\n\n          <button\n            type=\"button\"\n            className=\"productDetailsPage__back-button\"\n            data-cy=\"backButton\"\n            onClick={handleBackButtonClick}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowLeft\"\n              className=\"pathInscription__arrowRight\"\n              style={{ transform: 'rotate(-90deg)' }}\n            />\n            <p className=\"pathInscription__text\">Back</p>\n          </button>\n\n          <h1>{productDetails.name}</h1>\n\n          <div className=\"productDetails\">\n            <div className=\"productDetails__verticalImageSlider\">\n              {productDetails.images.map((image, index) => (\n                <button\n                  type=\"button\"\n                  key={image}\n                  className=\"image-slider-button\"\n                  onClick={() => handleImageClick(image)}\n                  tabIndex={0}\n                  style={{ background: `url('${image}') no-repeat center center / contain`, width: '80px', height: '80px' }}\n                  aria-label={`View ${productDetails.name} image ${index + 1}`}\n                >\n                  <img\n                    src={`${image}`}\n                    alt={`${productDetails.name} view ${index + 1}`}\n                    className=\"visually-hidden\"\n                  />\n                </button>\n              ))}\n            </div>\n            <div className=\"productDetails__image-box\">\n              <img\n                src={`${selectedImage}`}\n                alt=\"productDetails img\"\n                className=\"productDetails__image\"\n              />\n            </div>\n            <div className=\"productDetails__description\">\n              <div className=\"colors\">\n                <div className=\"availableColors\">Available colors</div>\n                <div className=\"colors__box\">\n                  {productDetails?.colorsAvailable.map((color) => (\n                    <button\n                      type=\"button\"\n                      key={color}\n                      className={`selectorscolorDefault ${productDetails.color === color && 'selectorscolorDefault--select'}`}\n                      onClick={() => handleColorClick(color)}\n                      onKeyDown={(event) => handleKeyDown(event, color)}\n                      style={{\n                        backgroundImage: `url(${thisModelProducts.find(item => item.color === color)?.image})`,\n                      }}\n                      aria-label={`Select color ${color}`}\n                    />\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"productDetails__band\" />\n\n              <div className=\"capacity\">\n                <div className=\"capacity__text\">Select capacity</div>\n                <div className=\"capacity__box\">\n                  {productDetails.capacityAvailable.map((capacity) => (\n                    <button\n                      type=\"button\"\n                      key={capacity}\n                      className={`capacity__button ${productDetails.capacity === capacity && 'capacity__button--selected'}`}\n                      onClick={() => handleCapacityClick(capacity)}\n                    >\n                      {capacity.replace('GB', ' GB')}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"productDetails__band\" />\n\n              <h2 className=\"price\">\n                $\n                {productDetails.priceDiscount}\n                {productDetails.priceRegular\n                  !== productDetails.priceDiscount && (\n                  <span className=\"old-price\">\n                    $\n                    {productDetails.priceRegular}\n                  </span>\n                )}\n              </h2>\n\n              <div className=\"actions\">\n                <button\n                  type=\"button\"\n                  className={containedInCart\n                    ? 'add-to-cart add-to-cart--selected' : 'add-to-cart'}\n                  onClick={() => {\n                    return product && (\n                      containedInCart ? removeFromCart(product.id)\n                        : addToCart(product));\n                  }}\n                >\n                  {containedInCart ? 'Added to cart' : 'Add to cart'}\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"favorite\"\n                  onClick={() => {\n                    return product && (\n                      containedInFavorites ? removeFromFavorites(product.id)\n                        : addToFavorites(product));\n                  }}\n                >\n                  <img\n                    src={containedInFavorites\n                      ? 'img/icons/favouritesSelected.svg'\n                      : 'img/icons/favourites.svg'}\n                    alt=\"Add to favorites\"\n                    className=\"favorite__img\"\n                  />\n                </button>\n              </div>\n\n              <ul className=\"specs\">\n                <li>\n                  Screen\n                  <span className=\"specs__value\">{productDetails.screen}</span>\n                </li>\n                <li>\n                  Resolution\n                  <span className=\"specs__value\">\n                    {productDetails.resolution}\n                  </span>\n                </li>\n                <li>\n                  Processor\n                  <span className=\"specs__value\">\n                    {productDetails.processor}\n                  </span>\n                </li>\n                <li>\n                  RAM\n                  <span className=\"specs__value\">{productDetails.ram}</span>\n                </li>\n              </ul>\n            </div>\n\n            <p className=\"productDetails__id\">{`ID: ${product?.fullPrice}${product?.price}`}</p>\n          </div>\n\n          <div className=\"productDetailsPage__about-specs\">\n            <section className=\"about\" data-cy=\"productDescription\">\n              <p className=\"about__title\">About</p>\n              <div className=\"productDetails__band\" />\n\n              {productDetails.description\n                && productDetails.description.map((section) => (\n                  <div className=\"description\">\n                    <p className=\"description__title\">\n                      {section.title}\n                    </p>\n                    {section.text.map((paragraph, index) => (\n                      <>\n                        {index !== 0 && <br />}\n                        <p className=\"description__text\">{paragraph}</p>\n                      </>\n                    ))}\n                  </div>\n                ))}\n            </section>\n\n            <section className=\"specs\">\n              <p className=\"specs__title\">Tech specs</p>\n              <div className=\"productDetails__band\" />\n\n              <ul className=\"specs-list\">\n                <li>\n                  Screen\n                  <span className=\"specs-list__value\">\n                    {productDetails.screen}\n                  </span>\n                </li>\n                <li>\n                  Resolution\n                  <span className=\"specs-list__value\">\n                    {productDetails.resolution}\n                  </span>\n                </li>\n                <li>\n                  Processor\n                  <span className=\"specs-list__value\">\n                    {productDetails.processor}\n                  </span>\n                </li>\n                <li>\n                  RAM\n                  <span className=\"specs-list__value\">\n                    {productDetails.ram}\n                  </span>\n                </li>\n                <li>\n                  Built in memory\n                  <span className=\"specs-list__value\">\n                    {productDetails.capacity}\n                  </span>\n                </li>\n                <li>\n                  Camera\n                  <span className=\"specs-list__value\">\n                    {productDetails.camera}\n                  </span>\n                </li>\n                <li>\n                  Zoom\n                  <span className=\"specs-list__value\">\n                    {productDetails.zoom}\n                  </span>\n                </li>\n                <li>\n                  Cell\n                  <span className=\"specs-list__value\">\n                    {productDetails.cell.join(', ')}\n                  </span>\n                </li>\n              </ul>\n            </section>\n          </div>\n\n          <ProductsSlider\n            title=\"You may also like\"\n            products={suggestedProducts}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import { HashRouter as Router, Routes, Route } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { PhonesPage } from './pages/PhonesPage/PhonesPage';\nimport { TabletsPage } from './pages/TabletsPage/TabletsPage';\nimport { AccessoriesPage } from './pages/AccessoriesPage/AccessoriesPage';\nimport { FavoritesPage } from './pages/FavoritesPage/FavoritesPage';\nimport { CartPage } from './pages/CartPage/CartPage';\nimport { ContactsPage } from './pages/ContactsPage/ContactsPage';\nimport { RightsPage } from './pages/RightsPage/RightsPage';\nimport { NotFoundPage } from './pages/NotFoundPage/NotFoundPage';\nimport {\n  ProductDetailsPage,\n} from './pages/ProductDetailsPage/ProductDetailsPage';\n\nReactDOM.render(\n  <Router>\n    <Routes>\n      <Route path=\"/\" element={<App />}>\n        <Route index element={<HomePage />} />\n        <Route path=\"/phones\" element={<PhonesPage />} />\n        <Route path=\"/tablets\" element={<TabletsPage />} />\n        <Route path=\"/accessories\" element={<AccessoriesPage />} />\n        <Route path=\"/favorites\" element={<FavoritesPage />} />\n        <Route path=\"/cart\" element={<CartPage />} />\n        <Route path=\"/contacts\" element={<ContactsPage />} />\n        <Route path=\"/rights\" element={<RightsPage />} />\n        <Route path=\"/product/:productId\" element={<ProductDetailsPage />} />\n        <Route path=\"*\" element={<NotFoundPage />} />\n      </Route>\n    </Routes>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}