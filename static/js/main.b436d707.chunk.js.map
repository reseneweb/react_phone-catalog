{"version":3,"sources":["components/Search/Search.tsx","utils/searchHelper.ts","components/Header/Header.tsx","components/Footer/Footer.tsx","hooks/useLocalStorage.ts","App.tsx","components/BannerSlider/BannerSlider.tsx","components/ProductCard/ProductCard.tsx","components/ProductsSlider/ProductsSlider.tsx","components/ShopByCategory/ShopByCategory.tsx","pages/HomePage/HomePage.tsx","components/ProductsList/ProductsList.tsx","components/Loader/Loader.tsx","utils/utils.ts","components/Pagination/Pagination.tsx","components/NoResults/NoResults.tsx","components/NoSearchResults/NoSearchResults.tsx","pages/PhonesPage/PhonesPage.tsx","pages/TabletsPage/TabletsPage.tsx","pages/AccessoriesPage/AccessoriesPage.tsx","pages/FavoritesPage/FavoritesPage.tsx","components/CartItem/CartItem.tsx","pages/CartPage/CartPage.tsx","pages/ContactsPage/ContactsPage.tsx","pages/RightsPage/RightsPage.tsx","pages/NotFoundPage/NotFoundPage.tsx","pages/ProductDetailsPage/ProductDetailsPage.tsx","index.tsx"],"names":["Search","applyQuery","currentPath","useLocation","pathname","slice","useSearchParams","searchParams","setSearchParams","query","get","setSearchWith","params","searchString","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","value","delete","Array","isArray","part","append","set","getSearchWith","updatedSearchParams","className","htmlFor","type","name","id","placeholder","onChange","event","target","onClick","src","alt","Header","totalCartCount","favoritesItemsLength","setActiveClass","isActive","to","includes","Footer","handleBackToTop","window","scrollTo","top","behavior","href","rel","onKeyDown","useLocalStorage","startValue","useState","data","localStorage","getItem","JSON","parse","e","removeItem","setValue","newValue","setItem","stringify","App","favoritesItems","setFavoritesItems","cartItems","setCartItems","appliedQuery","setAppliedQuery","totalPrice","reduce","acc","product","quantity","price","useCallback","debounce","length","context","addToFavorites","removeFromFavorites","productId","requiredProduct","filter","item","addToCart","removeFromCart","incrementQuantity","map","decrementQuantity","Math","max","imageUrls","BannerSlider","currentIndex","setCurrentIndex","handleNext","prevIndex","useEffect","interval","setInterval","clearInterval","style","transform","ProductCard","useOutletContext","containedInFavorites","some","containedInCart","phoneId","image","fullPrice","screen","capacity","ram","ProductsSlider","title","products","disabled","ShopByCategory","countOfProducts","phones","tablets","accessories","HomePage","setProducts","hasError","setHasError","setCountOfProducts","fetchProducts","a","fetch","response","json","category","ok","Error","hotPriceProducts","sort","b","discountA","brandNewProducts","ProductsList","Loader","getNumbers","from","numbers","n","push","Pagination","total","perPage","currentPage","onPageChange","numberOfLinks","ceil","scrollToTop","previousLink","link","handleLinkClick","nextLink","NoResults","productName","NoSearchResults","PhonesPage","setPhones","isLoading","setIsLoading","year","sortedPhones","setSortedPhones","displayedPhones","setDisplayedPhones","getPhones","currentPhones","result","toLowerCase","sortBy","indexOfLastItem","indexOfFirstItem","currentItems","sortValue","sortedArray","localeCompare","sortProducts","TabletsPage","setTablets","sortedTablets","setSortedTablets","displayedTablets","setDisplayedTablets","getTablets","currentTablets","AccessoriesPage","setAccessories","sortedAccessories","setSortedAccessories","displayedAccessories","setDisplayedAccessories","getAccessories","currentAccessories","FavoritesPage","displayedFavorites","setDisplayedFavorites","CartItem","CartPage","checkoutMessage","setCheckoutMessage","navigate","useNavigate","timer","setTimeout","clearTimeout","ContactsPage","RightsPage","NotFoundPage","ProductDetailsPage","useParams","productDetails","setProductDetails","setProduct","color","selectedColor","setSelectedColor","images","selectedImage","setSelectedImage","thisModelProducts","setThisModelProducts","suggestedProducts","setSuggestedProducts","getProduct","baseProductId","split","join","newProductId","handleColorClick","foundProduct","find","itemId","currentProducts","shuffled","i","j","floor","random","shuffleProducts","index","handleImageClick","tabIndex","background","width","height","colorsAvailable","handleKeyDown","backgroundImage","capacityAvailable","toLocaleLowerCase","handleCapacityClick","replace","priceDiscount","priceRegular","resolution","processor","description","section","text","paragraph","camera","zoom","cell","ReactDOM","render","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.b436d707.chunk.js","sourcesContent":["import React from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { getSearchWith, SearchParams } from '../../utils/searchHelper';\nimport './Search.scss';\n\ntype Props = {\n  applyQuery: (arg: string) => void;\n};\n\nexport const Search: React.FC<Props> = ({\n  applyQuery,\n}) => {\n  const currentPath = useLocation().pathname.slice(1);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n\n  function setSearchWith(params: SearchParams) {\n    const searchString = getSearchWith(searchParams, params);\n    const updatedSearchParams = new URLSearchParams(searchString);\n\n    updatedSearchParams.set('page', '1');\n\n    setSearchParams(updatedSearchParams);\n  }\n\n  function handleQueryChange(event: React.ChangeEvent<HTMLInputElement>) {\n    setSearchWith({ query: event.target.value || null });\n    applyQuery(event.target.value);\n  }\n\n  return (\n    <label className=\"search\" htmlFor=\"search-input\">\n      <input\n        className=\"nav-search\"\n        type=\"text\"\n        name=\"search\"\n        id=\"search-input\"\n        placeholder={`Search in ${currentPath}...`}\n        value={query}\n        onChange={handleQueryChange}\n      />\n\n      {!query ? (\n        <img\n          src=\"img/icons/search.svg\"\n          alt=\"search\"\n          className=\"search-icon\"\n        />\n      ) : (\n        <button\n          data-cy=\"searchDelete\"\n          type=\"button\"\n          className=\"search__delete-button\"\n          onClick={() => {\n            setSearchWith({ query: null });\n            applyQuery('');\n          }}\n        >\n          <img\n            src=\"img/icons/DarkClose.svg\"\n            alt=\"delete-button\"\n          />\n        </button>\n      )}\n    </label>\n  );\n};\n","export type SearchParams = {\n  [key: string]: string | string[] | null,\n};\n\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams,\n): string {\n  const newParams = new URLSearchParams(\n    currentParams.toString(),\n  );\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  return newParams.toString();\n}\n","import { NavLink, useLocation } from 'react-router-dom';\nimport './Header.scss';\nimport { Search } from '../Search/Search';\n\ntype Props = {\n  applyQuery: (arg: string) => void;\n  totalCartCount: number;\n  favoritesItemsLength: number;\n};\n\nexport const Header: React.FC<Props> = ({\n  applyQuery,\n  totalCartCount,\n  favoritesItemsLength,\n}) => {\n  const currentPath = useLocation().pathname;\n  const availableForSearch\n    = ['/phones', '/tablets', '/accessories', '/favorites'];\n\n  const setActiveClass = ({ isActive }: { isActive: boolean }) => {\n    return isActive ? 'active' : '';\n  };\n\n  return (\n    <header className=\"header\">\n      <nav className=\"navbar\">\n        <div className=\"navbar__container\">\n          <div className=\"nav-logo\">\n            <NavLink\n              to=\"/\"\n              className={setActiveClass}\n            >\n              <img src=\"img/icons/logo.svg\" alt=\"logo\" />\n            </NavLink>\n          </div>\n          <div className=\"nav-links\">\n            <NavLink to=\"/\" className={setActiveClass}>Home</NavLink>\n            <NavLink to=\"/phones\" className={setActiveClass}>Phones</NavLink>\n            <NavLink to=\"/tablets\" className={setActiveClass}>Tablets</NavLink>\n            <NavLink to=\"/accessories\" className={setActiveClass}>\n              Accessories\n            </NavLink>\n          </div>\n        </div>\n\n        <div className=\"nav-icons\">\n          {availableForSearch.includes(currentPath) && (\n            <Search\n              applyQuery={applyQuery}\n            />\n          )}\n\n          <NavLink\n            to=\"/favorites\"\n            className={setActiveClass}\n          >\n            <div className=\"favorites-icon\">\n              {favoritesItemsLength > 0 && (\n                <div className=\"favorites-icon__counter\">\n                  <span className=\"favorites-icon__count\">\n                    {favoritesItemsLength}\n                  </span>\n                </div>\n              )}\n              <img\n                src=\"img/icons/favourites.svg\"\n                alt=\"favorites\"\n                className=\"favorites-icon__img\"\n              />\n            </div>\n          </NavLink>\n          <NavLink\n            to=\"/cart\"\n            className={setActiveClass}\n          >\n            <div className=\"cart-icon\">\n              {totalCartCount > 0 && (\n                <div className=\"cart-icon__counter\">\n                  <span className=\"cart-icon__count\">{totalCartCount}</span>\n                </div>\n              )}\n              <img\n                src=\"img/icons/bag.svg\"\n                alt=\"bag\"\n                className=\"cart-icon__img\"\n              />\n            </div>\n          </NavLink>\n        </div>\n      </nav>\n    </header>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport './Footer.scss';\n\nexport const Footer = () => {\n  const setActiveClass = ({ isActive }: { isActive: boolean }) => {\n    return isActive ? 'active' : '';\n  };\n\n  const handleBackToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLButtonElement>) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      handleBackToTop();\n    }\n  };\n\n  return (\n\n    <footer className=\"footer\">\n      <nav className=\"navbar\">\n        <div className=\"navbar__container\">\n          <div className=\"nav-logo\">\n            <NavLink\n              to=\"/\"\n              onClick={handleBackToTop}\n            >\n              <img src=\"img/icons/logo.svg\" alt=\"logo\" />\n            </NavLink>\n          </div>\n          <div className=\"nav-links\">\n            <a\n              href=\"https://github.com/reseneweb/react_phone-catalog\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Github\n            </a>\n            <NavLink to=\"/contacts\" className={setActiveClass}>\n              Contacts\n            </NavLink>\n            <NavLink to=\"/rights\" className={setActiveClass}>Rights</NavLink>\n          </div>\n          <button\n            type=\"button\"\n            className=\"back-to-top\"\n            onClick={handleBackToTop}\n            onKeyDown={handleKeyDown}\n            aria-label=\"Back to top\"\n          >\n            Back to top\n            <div className=\"icon-container\">\n              <img\n                src=\"img/icons/arrowRight.svg\"\n                alt=\"Go to top\"\n                className=\"arrow-icon\"\n              />\n            </div>\n          </button>\n        </div>\n      </nav>\n    </footer>\n  );\n};\n","import { useState } from 'react';\n\nexport function useLocalStorage<T>(\n  key: string, startValue: T,\n): [T, (v: T) => void] {\n  const [value, setValue] = useState(() => {\n    const data = localStorage.getItem(key);\n\n    if (data === null) {\n      return startValue;\n    }\n\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      localStorage.removeItem(key);\n\n      return startValue;\n    }\n  });\n\n  const save = (newValue: T) => {\n    localStorage.setItem(key, JSON.stringify(newValue));\n    setValue(newValue);\n  };\n\n  return [value, save];\n}\n","import './App.scss';\nimport { useState, useCallback } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport debounce from 'lodash.debounce';\nimport { Header } from './components/Header/Header';\nimport { Footer } from './components/Footer/Footer';\nimport { Product } from './types/Product';\nimport { useLocalStorage } from './hooks/useLocalStorage';\n\nconst App = () => {\n  const [favoritesItems, setFavoritesItems]\n    = useLocalStorage<Product[]>('favoritesItems', []);\n  const [cartItems, setCartItems] = useLocalStorage<Product[]>('cartItems', []);\n  const [appliedQuery, setAppliedQuery] = useState('');\n\n  let totalCartCount = 0;\n\n  const totalPrice = cartItems.reduce((acc, product) => {\n    totalCartCount += product.quantity || 1;\n    const itemTotal = product.price * (product.quantity || 1);\n\n    return acc + itemTotal;\n  }, 0);\n\n  const applyQuery = useCallback(\n    debounce(setAppliedQuery, 1000),\n    [],\n  );\n\n  const addToFavorites = (product: Product) => {\n    if (!favoritesItems.includes(product)) {\n      setFavoritesItems([...favoritesItems, {\n        ...product,\n      }]);\n    }\n  };\n\n  const removeFromFavorites = (productId: Product['id']) => {\n    const requiredProduct\n      = favoritesItems.filter((item) => item.id !== productId);\n\n    if (requiredProduct) {\n      setFavoritesItems(requiredProduct);\n    }\n  };\n\n  const addToCart = (product: Product) => {\n    if (!cartItems.includes(product)) {\n      setCartItems([...cartItems, {\n        ...product,\n        quantity: 1,\n      }]);\n    }\n  };\n\n  const removeFromCart = (productId: Product['id']) => {\n    const requiredProduct = cartItems.filter((item) => item.id !== productId);\n\n    if (requiredProduct) {\n      setCartItems(requiredProduct);\n    }\n  };\n\n  const incrementQuantity = (productId: Product['id']) => {\n    setCartItems(cartItems.map((item) => {\n      return item.id === productId\n        ? { ...item, quantity: (item.quantity || 0) + 1 } : item;\n    }));\n  };\n\n  const decrementQuantity = (productId: Product['id']) => {\n    setCartItems(cartItems.map((item) => {\n      return item.id === productId\n        ? { ...item, quantity: Math.max((item.quantity || 0) - 1, 1) }\n        : item;\n    }));\n  };\n\n  return (\n    <div className=\"App\">\n      <Header\n        applyQuery={applyQuery}\n        totalCartCount={totalCartCount}\n        favoritesItemsLength={favoritesItems.length}\n      />\n      <main className=\"main\">\n        <Outlet\n          context={{\n            favoritesItems,\n            addToFavorites,\n            removeFromFavorites,\n            cartItems,\n            addToCart,\n            removeFromCart,\n            incrementQuantity,\n            decrementQuantity,\n            appliedQuery,\n            totalCartCount,\n            totalPrice,\n          }}\n        />\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import { useEffect, useState } from 'react';\nimport './BannerSlider.scss';\n\nconst imageUrls = [\n  'img/banner-phones.png',\n  'img/banner-tablets.png',\n  'img/banner-accessories.png',\n];\n\nexport const BannerSlider: React.FC = () => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const handleNext = () => {\n    setCurrentIndex((prevIndex) => (prevIndex + 1) % imageUrls.length);\n  };\n\n  const handlePrev = () => {\n    setCurrentIndex(prevIndex => (prevIndex - 1 + imageUrls.length)\n    % imageUrls.length);\n  };\n\n  useEffect(() => {\n    const interval = setInterval(handleNext, 5000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <>\n      <div className=\"banner-buttons\">\n        <div className=\"slider-controls\">\n          <button\n            type=\"button\"\n            onClick={handlePrev}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowLeft\"\n              style={{ transform: 'rotate(-90deg)' }}\n            />\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleNext}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowRight\"\n              style={{ transform: 'rotate(90deg)' }}\n            />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"banner-slider\">\n        <div\n          className=\"banner-slider__container\"\n          style={{ transform: `translateX(-${currentIndex * 1040}px)` }}\n        >\n          {imageUrls.map((src) => (\n            <img key={src} src={src} alt=\"BannerSlide\" className=\"slider-img\" />\n          ))}\n        </div>\n\n        <div className=\"box-dots\">\n          <div className=\"dots\">\n            <div className=\"group\">\n              <div className={currentIndex % 3 === 0 ? 'div active' : 'div'} />\n            </div>\n            <div className=\"rectangle-wrapper\">\n              <div className={currentIndex % 3 === 1 ? 'div active' : 'div'} />\n            </div>\n            <div className=\"div-wrapper\">\n              <div className={currentIndex % 3 === 2 ? 'div active' : 'div'} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import { useOutletContext, NavLink } from 'react-router-dom';\nimport { Product } from '../../types/Product';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\n\nimport './ProductCard.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  const {\n    favoritesItems,\n    addToFavorites,\n    removeFromFavorites,\n    cartItems,\n    addToCart,\n    removeFromCart,\n  }\n    = useOutletContext<FavoritesContextType>();\n\n  const containedInFavorites\n    = favoritesItems.some(item => item.id === product.id);\n  const containedInCart\n    = cartItems.some(item => item.id === product.id);\n\n  return (\n    <div key={product.id} className=\"product-card\">\n      <NavLink to={`/product/${product.phoneId}`} className=\"product-card__link\">\n        <img\n          src={`${product.image}`}\n          alt={product.name}\n        />\n        <p className=\"product-name\">{product.name}</p>\n      </NavLink>\n      <h2 className=\"price\">\n        $\n        {product.price}\n        {product.price !== product.fullPrice && (\n          <span className=\"old-price\">\n            $\n            {product.fullPrice}\n          </span>\n        )}\n      </h2>\n      <ul className=\"specs\">\n        <li>\n          Screen\n          <span className=\"specs__value\">{product.screen}</span>\n        </li>\n        <li>\n          Capacity\n          <span className=\"specs__value\">{product.capacity}</span>\n        </li>\n        <li>\n          RAM\n          <span className=\"specs__value\">{product.ram}</span>\n        </li>\n      </ul>\n      <div className=\"actions\">\n        <button\n          type=\"button\"\n          className={containedInCart\n            ? 'add-to-cart add-to-cart--selected' : 'add-to-cart'}\n          onClick={() => {\n            return containedInCart ? removeFromCart(product.id)\n              : addToCart(product);\n          }}\n        >\n          {containedInCart ? 'Added to cart' : 'Add to cart'}\n        </button>\n\n        <button\n          data-cy=\"addToFavorite\"\n          type=\"button\"\n          className=\"favorite\"\n          onClick={() => {\n            return containedInFavorites ? removeFromFavorites(product.id)\n              : addToFavorites(product);\n          }}\n        >\n          <img\n            src={containedInFavorites\n              ? 'img/icons/favouritesSelected.svg'\n              : 'img/icons/favourites.svg'}\n            alt=\"Add to favorites\"\n            className=\"favorite__img\"\n          />\n        </button>\n      </div>\n    </div>\n  );\n};\n","import { useState } from 'react';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './ProductsSlider.scss';\n\ntype Props = {\n  title: string;\n  products: Product[];\n};\n\nexport const ProductsSlider: React.FC<Props> = ({ title, products }) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const handleNext = () => {\n    setCurrentIndex(prevIndex => {\n      return prevIndex + 1 < products.length\n        ? prevIndex + 1 : prevIndex;\n    });\n  };\n\n  const handlePrev = () => {\n    setCurrentIndex(prevIndex => {\n      return prevIndex - 1 >= 0 ? prevIndex - 1 : prevIndex;\n    });\n  };\n\n  return (\n    <div className=\"products-slider\">\n      <div className=\"slider-header\">\n        <h1>{title}</h1>\n        <div className=\"slider-controls\">\n          <button\n            type=\"button\"\n            onClick={handlePrev}\n            disabled={currentIndex === 0}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowLeft\"\n              style={{ transform: 'rotate(-90deg)' }}\n            />\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleNext}\n            disabled={currentIndex === products.length - 4}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowRight\"\n              style={{ transform: 'rotate(90deg)' }}\n            />\n          </button>\n        </div>\n      </div>\n      <div\n        data-cy=\"cardsContainer\"\n        className=\"slider-container\"\n        style={{ transform: `translateX(-${currentIndex * (272 + 16)}px)` }}\n      >\n        {products.map((product) => (\n          <ProductCard key={product.id} product={product} />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport './ShopByCategory.scss';\n\ntype Props = {\n  countOfProducts: {\n    phones: number;\n    tablets: number;\n    accessories: number;\n  };\n};\n\nexport const ShopByCategory: React.FC<Props> = ({ countOfProducts }) => (\n  <div className=\"shop-by-category\">\n    <div className=\"category-header\">Shop by category</div>\n    <div data-cy=\"categoryLinksContainer\" className=\"categories\">\n      <NavLink to=\"/phones\" className=\"category-item\">\n        <img\n          className=\"category-image\"\n          src=\"img/ShopByCategoryImgs/phones-2.png\"\n          alt=\"Mobile phones\"\n        />\n        <div className=\"category-info\">\n          <div className=\"text-wrapper\">Mobile phones</div>\n          <div className=\"models-count\">{`${countOfProducts.phones || 0} models`}</div>\n        </div>\n      </NavLink>\n      <NavLink to=\"/tablets\" className=\"category-item\">\n        <img\n          className=\"category-image\"\n          src=\"img/ShopByCategoryImgs/phones-1.png\"\n          alt=\"Tablets\"\n        />\n        <div className=\"category-info\">\n          <div className=\"text-wrapper\">Tablets</div>\n          <div className=\"models-count\">{`${countOfProducts.tablets || 0} models`}</div>\n        </div>\n      </NavLink>\n      <NavLink to=\"/accessories\" className=\"category-item\">\n        <img\n          className=\"category-image\"\n          src=\"img/ShopByCategoryImgs/phones.png\"\n          alt=\"Accessories\"\n        />\n        <div className=\"category-info\">\n          <div className=\"text-wrapper\">Accessories</div>\n          <div className=\"models-count\">{`${countOfProducts.accessories || 0} models`}</div>\n        </div>\n      </NavLink>\n    </div>\n  </div>\n);\n","import { useState, useEffect } from 'react';\nimport { BannerSlider } from '../../components/BannerSlider/BannerSlider';\nimport { ProductsSlider } from '../../components/ProductsSlider/ProductsSlider';\nimport { ShopByCategory } from '../../components/ShopByCategory/ShopByCategory';\nimport { Product } from '../../types/Product';\nimport './HomePage.scss';\n\ninterface CountOfProducts {\n  phones: number;\n  tablets: number;\n  accessories: number;\n}\n\nexport const HomePage = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [hasError, setHasError] = useState<string>('');\n\n  const [countOfProducts, setCountOfProducts] = useState<CountOfProducts>({\n    phones: 0,\n    tablets: 0,\n    accessories: 0,\n  });\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response\n          = await fetch(\n            'https://mate-academy.github.io/react_phone-catalog/'\n            + '_new/products.json',\n          );\n\n        const data = await response.json();\n\n        const phones\n          = data.filter(\n            (product: Product) => product.category === 'phones',\n          );\n        const tablets\n          = data.filter(\n            (product: Product) => product.category === 'tablets',\n          ).length;\n        const accessories\n          = data.filter(\n            (product: Product) => product.category === 'accessories',\n          ).length;\n\n        setCountOfProducts(\n          {\n            phones: phones.length,\n            tablets: tablets.length,\n            accessories: accessories.length,\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        setProducts(data);\n      } catch (error) {\n        setHasError('Something went wrong');\n      }\n    };\n\n    fetchProducts();\n  }, []);\n\n  const getHotPriceProducts = () => {\n    return products\n      .filter(product => product.fullPrice !== product.price)\n      .sort((a, b) => {\n        const discountA: number = a.fullPrice - a.price;\n        const discountB: number = b.fullPrice - b.price;\n\n        return discountB - discountA;\n      });\n  };\n\n  const getBrandNewProducts = () => {\n    return products\n      .sort((a, b) => b.fullPrice - a.fullPrice);\n  };\n\n  const hotPriceProducts = getHotPriceProducts();\n  const brandNewProducts = getBrandNewProducts();\n\n  return (\n    <div>\n      <BannerSlider />\n\n      {hasError && (\n        <p>{hasError}</p>\n      )}\n\n      {!hasError && !!products.length && (\n        <>\n          <ProductsSlider title=\"Hot prices\" products={hotPriceProducts} />\n          <ShopByCategory countOfProducts={countOfProducts} />\n          <ProductsSlider\n            title=\"Brand new models\"\n            products={brandNewProducts}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import './ProductsList.scss';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard/ProductCard';\n\ntype Props = {\n  products: Product[];\n};\n\nexport const ProductsList: React.FC<Props> = ({ products }) => {\n  return (\n    <div data-cy=\"productList\" className=\"productList\">\n      {products.map((product) => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import React from 'react';\nimport { getNumbers } from '../../utils/utils';\nimport './Pagination.scss';\n\ntype Props = {\n  total: number,\n  perPage: number,\n  currentPage: number,\n  onPageChange: (currentPage: number) => void,\n};\n\nexport const Pagination: React.FC<Props> = ({\n  total,\n  perPage,\n  currentPage = 1,\n  onPageChange,\n}) => {\n  const numberOfLinks = Math.ceil(total / perPage);\n\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleLinkClick = (link: number) => {\n    if (link !== currentPage) {\n      onPageChange(link);\n      scrollToTop();\n    }\n  };\n\n  const handleClickToPrevious = (previousLink: number) => {\n    if (currentPage !== 1) {\n      onPageChange(previousLink);\n      scrollToTop();\n    }\n  };\n\n  const handleClickToNext = (nextLink: number) => {\n    if (currentPage !== numberOfLinks) {\n      onPageChange(nextLink);\n      scrollToTop();\n    }\n  };\n\n  return (\n    <>\n      <ul className=\"pagination\" data-cy=\"pagination\">\n        <li className=\"page-item\">\n          <button\n            data-cy=\"paginationLeft\"\n            type=\"button\"\n            className=\"page-button\"\n            disabled={currentPage === 1}\n            onClick={() => handleClickToPrevious(currentPage - 1)}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowLeft\"\n              style={{ transform: 'rotate(-90deg)' }}\n            />\n          </button>\n        </li>\n\n        {getNumbers(1, numberOfLinks).map((link) => (\n          <li key={link} className=\"page-item\">\n            <button\n              type=\"button\"\n              data-cy=\"pageLink\"\n              key={link}\n              className={link === currentPage\n                ? 'page-link active' : 'page-link'}\n              onClick={() => handleLinkClick(link)}\n            >\n              {link}\n            </button>\n          </li>\n        ))}\n\n        <li className=\"page-item\">\n          <button\n            data-cy=\"paginationRight\"\n            type=\"button\"\n            className=\"page-button\"\n            disabled={currentPage === numberOfLinks}\n            onClick={() => handleClickToNext(currentPage + 1)}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowRight\"\n              style={{ transform: 'rotate(90deg)' }}\n            />\n          </button>\n        </li>\n      </ul>\n    </>\n  );\n};\n","import './NoResults.scss';\n\ntype Props = {\n  productName: string;\n};\n\nexport const NoResults: React.FC<Props> = ({ productName }) => {\n  return (\n    <p className=\"no-results\">\n      {`${productName} not found`}\n    </p>\n  );\n};\n","import './NoSearchResults.scss';\n\nexport const NoSearchResults = () => {\n  return (\n    <p className=\"noSearchResults\">There are no products matching the query</p>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { NavLink, useOutletContext, useSearchParams } from 'react-router-dom';\nimport './PhonesPage.scss';\nimport { Product } from '../../types/Product';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { Loader } from '../../components/Loader';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport {\n  NoSearchResults,\n} from '../../components/NoSearchResults/NoSearchResults';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\n\nexport const PhonesPage = () => {\n  const [phones, setPhones] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [hasError, setHasError] = useState<string>('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [sortedPhones, setSortedPhones] = useState(() => {\n    return [...phones].sort((a, b) => b.year - a.year);\n  });\n\n  const [displayedPhones, setDisplayedPhones] = useState<Product[]>([]);\n\n  const { appliedQuery }\n    = useOutletContext<FavoritesContextType>();\n\n  useEffect(() => {\n    const getPhones = async () => {\n      setIsLoading(true);\n      try {\n        const response\n          = await fetch(\n            'https://mate-academy.github.io/react_phone-catalog/'\n            + '_new/products.json',\n          );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n        const currentPhones\n          = data.filter((product: Product) => product.category === 'phones');\n\n        setPhones(currentPhones);\n      } catch (error) {\n        setHasError('Something went wrong');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getPhones();\n  }, []);\n\n  useEffect(() => {\n    setSortedPhones([...phones].sort((a, b) => b.year - a.year));\n  }, [phones]);\n\n  useEffect(() => {\n    let result = [...sortedPhones];\n\n    if (appliedQuery) {\n      result = result.filter(product => {\n        return product.name.toLowerCase().includes(appliedQuery.toLowerCase());\n      });\n    }\n\n    setDisplayedPhones(result);\n  }, [appliedQuery, sortedPhones]);\n\n  const sortProducts = (sortValue: string) => {\n    let sortedArray;\n\n    switch (sortValue) {\n      case 'age':\n        sortedArray = [...phones].sort((a, b) => b.year - a.year);\n        break;\n      case 'name':\n        sortedArray = [...phones].sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'price':\n        sortedArray = [...phones].sort((a, b) => a.price - b.price);\n        break;\n      default:\n        sortedArray = phones;\n    }\n\n    setSortedPhones(sortedArray);\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', '1');\n    params.set('sort', sortValue);\n    setSearchParams(params);\n  };\n\n  const handleSortChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    sortProducts(event.target.value);\n  };\n\n  const total = displayedPhones.length;\n  const sortBy = searchParams.get('sort') || 'age';\n  const perPage = +(searchParams.get('perPage') || 16);\n  const currentPage = +(searchParams.get('page') || 1);\n  const indexOfLastItem = currentPage * perPage;\n  const indexOfFirstItem = indexOfLastItem - perPage;\n  const currentItems\n    = displayedPhones.slice(indexOfFirstItem, indexOfLastItem);\n\n  const handlePerPageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', '1');\n    params.set('perPage', event.target.value);\n    setSearchParams(params);\n  };\n\n  const onPageChange = (link: number) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', link.toString());\n    setSearchParams(params);\n  };\n\n  return (\n    <div className=\"phonesPage\">\n      <div className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <NavLink\n            to=\"/\"\n          >\n            <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n          </NavLink>\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n        />\n        <p className=\"pathInscription__text\">Phones</p>\n      </div>\n      <h1 className=\"phonesPage__title\">Mobile phones</h1>\n      <p className=\"phonesPage__count\">{`${phones.length} models`}</p>\n\n      {isLoading && <Loader />}\n\n      {hasError && (\n        <p>{hasError}</p>\n      )}\n\n      {!phones.length && !isLoading && !hasError && !appliedQuery && (\n        <NoResults productName=\"Phones\" />\n      )}\n\n      {!displayedPhones.length && appliedQuery && !isLoading && !hasError && (\n        <NoSearchResults />\n      )}\n\n      {!isLoading && !hasError && !!displayedPhones.length && (\n        <>\n          <div className=\"sorting\">\n            <label className=\"sorting__label\">\n              <p className=\"sorting__title\">Sort by</p>\n              <select\n                onChange={handleSortChange}\n                className=\"sorting__options\"\n                value={sortBy}\n              >\n                <option value=\"age\" className=\"sorting__option\">Newest</option>\n                <option value=\"name\" className=\"sorting__option\">\n                  Alphabetically\n                </option>\n                <option\n                  value=\"price\"\n                  className=\"sorting__option\"\n                >\n                  Cheapest\n                </option>\n              </select>\n            </label>\n\n            <div className=\"pagination\">\n              <div className=\"form-group\">\n                <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n                  Items on page\n                </label>\n\n                <div className=\"col-3 col-sm-2 col-xl-1\">\n                  <select\n                    data-cy=\"perPageSelector\"\n                    id=\"perPageSelector\"\n                    className=\"form-control\"\n                    onChange={handlePerPageChange}\n                    value={perPage}\n                  >\n                    <option value=\"4\" className=\"form-control__option\">\n                      4\n                    </option>\n                    <option value=\"8\" className=\"form-control__option\">\n                      8\n                    </option>\n                    <option value=\"16\" className=\"form-control__option\">\n                      16\n                    </option>\n                    <option value={total} className=\"form-control__option\">\n                      all\n                    </option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <ProductsList products={currentItems} />\n          {total / perPage > 1 && (\n            <Pagination\n              total={total}\n              perPage={perPage}\n              currentPage={currentPage}\n              onPageChange={onPageChange}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { NavLink, useOutletContext, useSearchParams } from 'react-router-dom';\nimport './TabletsPage.scss';\nimport { Product } from '../../types/Product';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { Loader } from '../../components/Loader';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport {\n  NoSearchResults,\n} from '../../components/NoSearchResults/NoSearchResults';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\n\nexport const TabletsPage = () => {\n  const [tablets, setTablets] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [hasError, setHasError] = useState<string>('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [sortedTablets, setSortedTablets] = useState(() => {\n    return [...tablets].sort((a, b) => b.year - a.year);\n  });\n\n  const [displayedTablets, setDisplayedTablets] = useState<Product[]>([]);\n\n  const { appliedQuery }\n    = useOutletContext<FavoritesContextType>();\n\n  useEffect(() => {\n    const getTablets = async () => {\n      setIsLoading(true);\n      try {\n        const response\n          = await fetch(\n            'https://mate-academy.github.io/react_phone-catalog/'\n            + '_new/products.json',\n          );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n        const currentTablets\n          = data.filter((product: Product) => product.category === 'tablets');\n\n        setTablets(currentTablets);\n      } catch (error) {\n        setHasError('Something went wrong');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getTablets();\n  }, []);\n\n  useEffect(() => {\n    setSortedTablets([...tablets].sort((a, b) => b.year - a.year));\n  }, [tablets]);\n\n  useEffect(() => {\n    let result = [...sortedTablets];\n\n    if (appliedQuery) {\n      result = result.filter(product => {\n        return product.name.toLowerCase().includes(appliedQuery.toLowerCase());\n      });\n    }\n\n    setDisplayedTablets(result);\n  }, [appliedQuery, sortedTablets]);\n\n  const sortProducts = (sortValue: string) => {\n    let sortedArray;\n\n    switch (sortValue) {\n      case 'age':\n        sortedArray = [...tablets].sort((a, b) => b.year - a.year);\n        break;\n      case 'name':\n        sortedArray = [...tablets].sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'price':\n        sortedArray = [...tablets].sort((a, b) => a.price - b.price);\n        break;\n      default:\n        sortedArray = tablets;\n    }\n\n    setSortedTablets(sortedArray);\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', '1');\n    params.set('sort', sortValue);\n    setSearchParams(params);\n  };\n\n  const handleSortChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    sortProducts(event.target.value);\n  };\n\n  const total = displayedTablets.length;\n  const sortBy = searchParams.get('sort') || 'age';\n  const perPage = +(searchParams.get('perPage') || 16);\n  const currentPage = +(searchParams.get('page') || 1);\n  const indexOfLastItem = currentPage * perPage;\n  const indexOfFirstItem = indexOfLastItem - perPage;\n  const currentItems\n    = displayedTablets.slice(indexOfFirstItem, indexOfLastItem);\n\n  const handlePerPageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', '1');\n    params.set('perPage', event.target.value);\n    setSearchParams(params);\n  };\n\n  const onPageChange = (link: number) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', link.toString());\n    setSearchParams(params);\n  };\n\n  return (\n    <div className=\"tabletsPage\">\n      <div className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <NavLink\n            to=\"/\"\n          >\n            <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n          </NavLink>\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n        />\n        <p className=\"pathInscription__text\">Tablets</p>\n      </div>\n      <h1 className=\"tabletsPage__title\">Tablets</h1>\n      <p className=\"tabletsPage__count\">{`${total} models`}</p>\n\n      {isLoading && <Loader />}\n\n      {hasError && (\n        { hasError }\n      )}\n\n      {!tablets.length && !isLoading && !hasError && !appliedQuery && (\n        <NoResults productName=\"Tablets\" />\n      )}\n\n      {!displayedTablets.length && appliedQuery && !isLoading && !hasError && (\n        <NoSearchResults />\n      )}\n\n      {!isLoading && !hasError && !!displayedTablets.length && (\n        <>\n          <div className=\"sorting\">\n            <label className=\"sorting__label\">\n              <p className=\"sorting__title\">Sort by</p>\n              <select\n                onChange={handleSortChange}\n                className=\"sorting__options\"\n                value={sortBy}\n              >\n                <option value=\"age\" className=\"sorting__option\">Newest</option>\n                <option value=\"name\" className=\"sorting__option\">\n                  Alphabetically\n                </option>\n                <option\n                  value=\"price\"\n                  className=\"sorting__option\"\n                >\n                  Cheapest\n                </option>\n              </select>\n            </label>\n\n            <div className=\"pagination\">\n              <div className=\"form-group\">\n                <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n                  Items on page\n                </label>\n\n                <div className=\"col-3 col-sm-2 col-xl-1\">\n                  <select\n                    data-cy=\"perPageSelector\"\n                    id=\"perPageSelector\"\n                    className=\"form-control\"\n                    onChange={handlePerPageChange}\n                    value={perPage}\n                  >\n                    <option value=\"4\" className=\"form-control__option\">\n                      4\n                    </option>\n                    <option value=\"8\" className=\"form-control__option\">\n                      8\n                    </option>\n                    <option value=\"16\" className=\"form-control__option\">\n                      16\n                    </option>\n                    <option value={total} className=\"form-control__option\">\n                      all\n                    </option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <ProductsList products={currentItems} />\n          {total / perPage > 1 && (\n            <Pagination\n              total={total}\n              perPage={perPage}\n              currentPage={currentPage}\n              onPageChange={onPageChange}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { NavLink, useOutletContext, useSearchParams } from 'react-router-dom';\n\nimport './AccessoriesPage.scss';\nimport { Product } from '../../types/Product';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { Loader } from '../../components/Loader';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport {\n  NoSearchResults,\n} from '../../components/NoSearchResults/NoSearchResults';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\n\nexport const AccessoriesPage = () => {\n  const [accessories, setAccessories] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [hasError, setHasError] = useState<string>('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [sortedAccessories, setSortedAccessories] = useState(() => {\n    return [...accessories].sort((a, b) => b.year - a.year);\n  });\n\n  const [displayedAccessories, setDisplayedAccessories]\n    = useState<Product[]>([]);\n\n  const { appliedQuery }\n    = useOutletContext<FavoritesContextType>();\n\n  useEffect(() => {\n    const getAccessories = async () => {\n      setIsLoading(true);\n      try {\n        const response\n          = await fetch(\n            'https://mate-academy.github.io/react_phone-catalog/'\n            + '_new/products.json',\n          );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n        const currentAccessories\n          = data.filter((product: Product) => product.category === 'accessory');\n\n        setAccessories(currentAccessories);\n      } catch (error) {\n        setHasError('Something went wrong');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getAccessories();\n  }, []);\n\n  useEffect(() => {\n    setSortedAccessories([...accessories].sort((a, b) => b.year - a.year));\n  }, [accessories]);\n\n  useEffect(() => {\n    let result = [...sortedAccessories];\n\n    if (appliedQuery) {\n      result = result.filter(product => {\n        return product.name.toLowerCase().includes(appliedQuery.toLowerCase());\n      });\n    }\n\n    setDisplayedAccessories(result);\n  }, [appliedQuery, sortedAccessories]);\n\n  const sortProducts = (sortValue: string) => {\n    let sortedArray;\n\n    switch (sortValue) {\n      case 'age':\n        sortedArray = [...accessories].sort((a, b) => b.year - a.year);\n        break;\n      case 'name':\n        sortedArray\n          = [...accessories].sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'price':\n        sortedArray = [...accessories].sort((a, b) => a.price - b.price);\n        break;\n      default:\n        sortedArray = accessories;\n    }\n\n    setSortedAccessories(sortedArray);\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', '1');\n    params.set('sort', sortValue);\n    setSearchParams(params);\n  };\n\n  const handleSortChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    sortProducts(event.target.value);\n  };\n\n  const total = displayedAccessories.length;\n  const sortBy = searchParams.get('sort') || 'age';\n  const perPage = +(searchParams.get('perPage') || 16);\n  const currentPage = +(searchParams.get('page') || 1);\n  const indexOfLastItem = currentPage * perPage;\n  const indexOfFirstItem = indexOfLastItem - perPage;\n  const currentItems\n    = displayedAccessories.slice(indexOfFirstItem, indexOfLastItem);\n\n  const handlePerPageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', '1');\n    params.set('perPage', event.target.value);\n    setSearchParams(params);\n  };\n\n  const onPageChange = (link: number) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('page', link.toString());\n    setSearchParams(params);\n  };\n\n  return (\n    <div className=\"accessoriesPage\">\n      <div className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <NavLink\n            to=\"/\"\n          >\n            <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n          </NavLink>\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n        />\n        <p className=\"pathInscription__text\">Accessories</p>\n      </div>\n      <h1 className=\"accessoriesPage__title\">Accessories</h1>\n      <p className=\"accessoriesPage__count\">{`${total} models`}</p>\n\n      {isLoading && <Loader />}\n\n      {hasError && (\n        <p>{hasError}</p>\n      )}\n\n      {!accessories.length && !isLoading && !hasError && !appliedQuery && (\n        <NoResults productName=\"Accessories\" />\n      )}\n\n      {!displayedAccessories.length && appliedQuery\n        && !isLoading && !hasError && (\n        <NoSearchResults />\n      )}\n\n      {!isLoading && !hasError && !!displayedAccessories.length && (\n        <>\n          <div className=\"sorting\">\n            <label className=\"sorting__label\">\n              <p className=\"sorting__title\">Sort by</p>\n              <select\n                onChange={handleSortChange}\n                className=\"sorting__options\"\n                value={sortBy}\n              >\n                <option value=\"age\" className=\"sorting__option\">Newest</option>\n                <option value=\"name\" className=\"sorting__option\">\n                  Alphabetically\n                </option>\n                <option\n                  value=\"price\"\n                  className=\"sorting__option\"\n                >\n                  Cheapest\n                </option>\n              </select>\n            </label>\n\n            <div className=\"pagination\">\n              <div className=\"form-group\">\n                <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n                  Items on page\n                </label>\n\n                <div className=\"col-3 col-sm-2 col-xl-1\">\n                  <select\n                    data-cy=\"perPageSelector\"\n                    id=\"perPageSelector\"\n                    className=\"form-control\"\n                    onChange={handlePerPageChange}\n                    value={perPage}\n                  >\n                    <option value=\"4\" className=\"form-control__option\">\n                      4\n                    </option>\n                    <option value=\"8\" className=\"form-control__option\">\n                      8\n                    </option>\n                    <option value=\"16\" className=\"form-control__option\">\n                      16\n                    </option>\n                    <option value={total} className=\"form-control__option\">\n                      all\n                    </option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <ProductsList products={currentItems} />\n          {total / perPage > 1 && (\n            <Pagination\n              total={total}\n              perPage={perPage}\n              currentPage={currentPage}\n              onPageChange={onPageChange}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { NavLink, useOutletContext } from 'react-router-dom';\nimport {\n  NoSearchResults,\n} from '../../components/NoSearchResults/NoSearchResults';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\nimport { Product } from '../../types/Product';\nimport './FavoritesPage.scss';\n\nexport const FavoritesPage = () => {\n  const { favoritesItems, appliedQuery }\n    = useOutletContext<FavoritesContextType>();\n\n  const [displayedFavorites, setDisplayedFavorites]\n    = useState<Product[]>([]);\n\n  useEffect(() => {\n    let result = [...favoritesItems];\n\n    if (appliedQuery) {\n      result = result.filter(product => {\n        return product.name.toLowerCase().includes(appliedQuery.toLowerCase());\n      });\n    }\n\n    setDisplayedFavorites(result);\n  }, [appliedQuery, favoritesItems]);\n\n  return (\n    <div className=\"favoritesPage\">\n      <div className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <NavLink\n            to=\"/\"\n          >\n            <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n          </NavLink>\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n        />\n        <p className=\"pathInscription__text\">Favourites</p>\n      </div>\n      <h1 className=\"favoritesPage__title\">Favourites</h1>\n\n      {!favoritesItems.length && !appliedQuery && (\n        <p className=\"favoritesPage__empty-message\">Your favourites is empty</p>\n      )}\n\n      {!displayedFavorites.length && appliedQuery && (\n        <NoSearchResults />\n      )}\n\n      {displayedFavorites.length > 0 && (\n        <>\n          <p className=\"favoritesPage__count\">{`${displayedFavorites.length} item${displayedFavorites.length > 1 ? 's' : ''}`}</p>\n          <ProductsList products={displayedFavorites} />\n        </>\n      )}\n    </div>\n  );\n};\n","import { useOutletContext } from 'react-router-dom';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\nimport { Product } from '../../types/Product';\nimport './CartItem.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const CartItem: React.FC<Props> = ({ product }) => {\n  const {\n    removeFromCart,\n    incrementQuantity,\n    decrementQuantity,\n  }\n    = useOutletContext<FavoritesContextType>();\n\n  return (\n    <div className=\"cartItem\">\n      <button\n        data-cy=\"cartDeleteButton\"\n        type=\"button\"\n        className=\"cartItem__delete-button\"\n        onClick={() => product && removeFromCart(product.id)}\n      >\n        <img\n          src=\"img/icons/close.svg\"\n          alt=\"delete-button\"\n        />\n      </button>\n\n      <img\n        src={`${product.image}`}\n        alt={product.name}\n        className=\"cartItem__img\"\n      />\n\n      <p className=\"cartItem__name\">{product.name}</p>\n\n      <div className=\"cartItem__counter\">\n        <button\n          type=\"button\"\n          className=\"counter-button\"\n          disabled={product.quantity === 1 || !product.quantity}\n          onClick={() => product && decrementQuantity(product.id)}\n        >\n          <img\n            src={product.quantity === 1 || !product.quantity\n              ? 'img/icons/Minus.svg' : 'img/icons/MinusDark.svg'}\n            alt=\"counter-button\"\n          />\n        </button>\n        <span\n          data-cy=\"productQuantity\"\n          className=\"counter-quantity\"\n        >\n          {product.quantity || 1}\n        </span>\n        <button\n          type=\"button\"\n          className=\"counter-button\"\n          onClick={() => incrementQuantity(product.id)}\n        >\n          <img\n            src=\"img/icons/Plus.svg\"\n            alt=\"counter-button\"\n          />\n        </button>\n      </div>\n\n      <h2 className=\"price\">\n        $\n        {product.price * (product.quantity || 1)}\n      </h2>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useNavigate, useOutletContext } from 'react-router-dom';\nimport { CartItem } from '../../components/CartItem/CartItem';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\nimport { Product } from '../../types/Product';\nimport './CartPage.scss';\n\nexport const CartPage = () => {\n  const [checkoutMessage, setCheckoutMessage] = useState('');\n  const navigate = useNavigate();\n  const {\n    cartItems,\n    totalCartCount,\n    totalPrice,\n  }\n    = useOutletContext<FavoritesContextType>();\n  const handleBackButtonClick = () => {\n    navigate(-1);\n  };\n\n  const handleCheckoutClick = () => {\n    setCheckoutMessage('We are sorry, but this feature is not implemented yet');\n  };\n\n  useEffect(() => {\n    let timer: number | undefined;\n\n    if (checkoutMessage) {\n      timer = window.setTimeout(() => {\n        setCheckoutMessage('');\n      }, 3000);\n    }\n\n    return () => {\n      window.clearTimeout(timer);\n    };\n  }, [checkoutMessage]);\n\n  return (\n    <div className=\"cartPage\">\n      <button\n        type=\"button\"\n        className=\"cartPage__back-button\"\n        data-cy=\"backButton\"\n        onClick={handleBackButtonClick}\n      >\n        <img\n          src=\"img/icons/arrowRight.svg\"\n          alt=\"arrowLeft\"\n          className=\"pathInscription__arrowRight\"\n          style={{ transform: 'rotate(-90deg)' }}\n        />\n        <p className=\"pathInscription__text\">Back</p>\n      </button>\n\n      <h1 className=\"cartPage__title\">Cart</h1>\n\n      <div className=\"cartPage__container\">\n        {cartItems && cartItems.length > 0 ? (\n          <>\n            <div data-cy=\"cartList\" className=\"cartPage__cartList\">\n              {cartItems.map((product: Product) => (\n                <CartItem key={product.id} product={product} />\n              ))}\n            </div>\n\n            <div className=\"cartPage__total\">\n              <h1>\n                $\n                {totalPrice}\n              </h1>\n              <p className=\"cartPage__total-text\">{`Total for ${totalCartCount} item${totalCartCount > 1 ? 's' : ''}`}</p>\n\n              <button\n                type=\"button\"\n                className=\"cartPage__checkout\"\n                onClick={handleCheckoutClick}\n              >\n                Checkout\n              </button>\n              {checkoutMessage && (\n                <p className=\"cartPage__checkout-message\">{checkoutMessage}</p>\n              )}\n            </div>\n          </>\n        ) : (\n          <p className=\"cartPage__empty-message\">Your cart is empty</p>\n        )}\n      </div>\n    </div>\n  );\n};\n","import './ContactsPage.scss';\n\nexport const ContactsPage = () => {\n  return (\n    <div className=\"contacts-page\">\n      <h1>Contact Information</h1>\n      <p>\n        {`If you have any questions about the Phone Catalog project or would \n    like to get in touch, please feel free to reach out.`}\n      </p>\n      <p>\n        {'Phone: '}\n        <a href=\"tel:+380635349175\">+380635349175</a>\n      </p>\n      <p>\n        Viber/Telegram: +380635349175\n      </p>\n      <p>\n        {'Email: '}\n        <a href=\"mailto:info@example.com\">reseneweb@gmail.com</a>\n      </p>\n      <p>\n        {'GitHub: '}\n        <a\n          href=\"https://github.com/reseneweb\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          reseneweb\n        </a>\n      </p>\n    </div>\n  );\n};\n","import './RightsPage.scss';\n\nexport const RightsPage = () => {\n  return (\n    <div className=\"rights-page\">\n      <h1>Rights and Usage</h1>\n      <p>\n        {`This catalog is a pet project designed to showcase a collection of phones. \n  The information provided is for educational purposes only. All product names, \n  logos, and brands are property of their respective owners. Use of these names, \n  logos, and brands does not imply endorsement.`}\n      </p>\n      <p>\n        {`The content of this project is licensed under the MIT License unless stated \n  otherwise. Please feel free to explore the code and use it as a reference for \n  learning and development.`}\n      </p>\n    </div>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport './NotFoundPage.scss';\n\nexport const NotFoundPage = () => {\n  return (\n    <div className=\"notFoundPage\">\n      <NavLink to=\"/\" className=\"pathInscription\">\n        <div className=\"nav-logo\">\n          <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n        </div>\n        <img\n          src=\"img/icons/GrayArrowRight.svg\"\n          alt=\"arrowRight\"\n          className=\"pathInscription__arrowRight\"\n          style={{ transform: 'rotate(180deg)' }}\n        />\n        <p className=\"pathInscription__text\">Back to Home Page</p>\n      </NavLink>\n      <h1 className=\"notFoundPage__text\">Page not found</h1>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  useOutletContext,\n  NavLink,\n} from 'react-router-dom';\nimport './ProductDetailsPage.scss';\nimport { Loader } from '../../components/Loader';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport { ProductDetails } from '../../types/ProductDetails';\nimport { Product } from '../../types/Product';\nimport { FavoritesContextType } from '../../types/FavoritesContextType';\nimport { ProductsSlider } from '../../components/ProductsSlider/ProductsSlider';\n\nexport const ProductDetailsPage = () => {\n  const { productId } = useParams<{ productId: string }>();\n  const navigate = useNavigate();\n  const [productDetails, setProductDetails]\n    = useState<ProductDetails | null>(null);\n  const [product, setProduct]\n    = useState<Product | null>(null);\n  const [products, setProducts] = useState<Product[]>([]);\n  const [selectedColor, setSelectedColor]\n  = useState<string>(productDetails?.color || '');\n  const [selectedImage, setSelectedImage]\n    = useState<string>(productDetails?.images[0] || '');\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [hasError, setHasError] = useState<string>('');\n  const [thisModelProducts, setThisModelProducts]\n  = useState<Product[] | null>([]);\n  const [suggestedProducts, setSuggestedProducts] = useState<Product[]>([]);\n  const {\n    favoritesItems,\n    addToFavorites,\n    removeFromFavorites,\n    cartItems,\n    addToCart,\n    removeFromCart,\n  }\n    = useOutletContext<FavoritesContextType>();\n\n  const containedInFavorites\n    = favoritesItems.some(item => item.id === product?.id);\n  const containedInCart\n    = cartItems.some(item => item.id === product?.id);\n\n  const getProduct = async () => {\n    setIsLoading(true);\n    setProductDetails(null);\n    setSelectedColor('');\n    try {\n      const response = await fetch(`https://mate-academy.github.io/react_phone-catalog/_new/products/${productId}.json`);\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await response.json();\n\n      setProductDetails(data);\n      setSelectedImage(data.images[0]);\n    } catch (error) {\n      setHasError('Something went wrong');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (productId) {\n      getProduct();\n    }\n  }, [productId]);\n\n  useEffect(() => {\n    if (selectedColor) {\n      const baseProductId = productId?.split('-').slice(0, -1).join('-');\n      const newProductId = `${baseProductId}-${selectedColor}`;\n\n      navigate(`/product/${newProductId}`);\n      getProduct();\n    }\n  }, [selectedColor, productId]);\n\n  const handleColorClick = (color: string) => {\n    setSelectedColor(color);\n  };\n\n  const handleImageClick = (image: string) => {\n    setSelectedImage(image);\n  };\n\n  const handleKeyDown\n    = (event: React.KeyboardEvent<HTMLButtonElement>, color: string) => {\n      if (event.key === 'Enter') {\n        handleColorClick(color);\n      }\n    };\n\n  useEffect(() => {\n    const getPhones = async () => {\n      setIsLoading(true);\n      try {\n        const response\n          = await fetch(\n            'https://mate-academy.github.io/react_phone-catalog/'\n            + '_new/products.json',\n          );\n\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        const data = await response.json();\n        const foundProduct\n          = data.find((item: Product) => productDetails?.id === item.itemId);\n\n        const currentProducts\n          = data.filter((item: Product) => {\n            return productDetails?.id.split('-').slice(0, -1).join('-')\n              === item.itemId.split('-').slice(0, -1).join('-');\n          });\n\n        setThisModelProducts(currentProducts);\n        setProduct(foundProduct);\n        setProducts(data);\n      } catch (error) {\n        setHasError('Something went wrong');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getPhones();\n  }, [productDetails, productId]);\n\n  const handleCapacityClick = (capacity: string) => {\n    const newProductId = `${productId?.split('-').slice(0, -2).join('-')}-${capacity.toLocaleLowerCase()}-${product?.color}`;\n\n    navigate(`/product/${newProductId}`);\n  };\n\n  const handleBackButtonClick = () => {\n    navigate(-1);\n  };\n\n  useEffect(() => {\n    const shuffleProducts = () => {\n      const shuffled = [...products];\n\n      for (let i = shuffled.length - 1; i > 0; i -= 1) {\n        const j = Math.floor(Math.random() * (i + 1));\n\n        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n      }\n\n      return shuffled;\n    };\n\n    if (products.length > 0) {\n      setSuggestedProducts(shuffleProducts());\n    }\n  }, [products]);\n\n  return (\n    <div className=\"productDetailsPage\">\n      {isLoading && <Loader />}\n\n      {hasError && (\n        <NoResults productName=\"Product\" />\n      )}\n\n      {!isLoading && !hasError && !!productDetails\n      && productDetails?.id === productId && (\n        <>\n          <div className=\"pathInscription\" data-cy=\"breadCrumbs\">\n            <div className=\"nav-logo\">\n              <NavLink\n                to=\"/\"\n              >\n                <img src=\"img/icons/home-logo.svg\" alt=\"home-logo\" />\n              </NavLink>\n            </div>\n            <img\n              src=\"img/icons/GrayArrowRight.svg\"\n              alt=\"arrowRight\"\n              className=\"pathInscription__arrowRight\"\n            />\n            <NavLink\n              to=\"/phones\"\n              className=\"pathInscription__text pathInscription__text--link\"\n            >\n              Phones\n            </NavLink>\n            <img\n              src=\"img/icons/GrayArrowRight.svg\"\n              alt=\"arrowRight\"\n              className=\"pathInscription__arrowRight\"\n            />\n            <p className=\"pathInscription__text\">{productDetails.name}</p>\n          </div>\n\n          <button\n            type=\"button\"\n            className=\"productDetailsPage__back-button\"\n            data-cy=\"backButton\"\n            onClick={handleBackButtonClick}\n          >\n            <img\n              src=\"img/icons/arrowRight.svg\"\n              alt=\"arrowLeft\"\n              className=\"pathInscription__arrowRight\"\n              style={{ transform: 'rotate(-90deg)' }}\n            />\n            <p className=\"pathInscription__text\">Back</p>\n          </button>\n\n          <h1>{productDetails.name}</h1>\n\n          <div className=\"productDetails\">\n            <div className=\"productDetails__verticalImageSlider\">\n              {productDetails.images.map((image, index) => (\n                <button\n                  type=\"button\"\n                  key={image}\n                  className=\"image-slider-button\"\n                  onClick={() => handleImageClick(image)}\n                  tabIndex={0}\n                  style={{ background: `url('${image}') no-repeat center center / contain`, width: '80px', height: '80px' }}\n                  aria-label={`View ${productDetails.name} image ${index + 1}`}\n                >\n                  <img\n                    src={`${image}`}\n                    alt={`${productDetails.name} view ${index + 1}`}\n                    className=\"visually-hidden\"\n                  />\n                </button>\n              ))}\n            </div>\n            <div className=\"productDetails__image-box\">\n              <img\n                src={`${selectedImage}`}\n                alt=\"productDetails img\"\n                className=\"productDetails__image\"\n              />\n            </div>\n            <div className=\"productDetails__description\">\n              <div className=\"colors\">\n                <div className=\"availableColors\">Available colors</div>\n                <div className=\"colors__box\">\n                  {productDetails?.colorsAvailable.map((color) => (\n                    <button\n                      type=\"button\"\n                      key={color}\n                      className={`selectorscolorDefault ${productDetails.color === color && 'selectorscolorDefault--select'}`}\n                      onClick={() => handleColorClick(color)}\n                      onKeyDown={(event) => handleKeyDown(event, color)}\n                      style={{\n                        backgroundImage: `url(${thisModelProducts?.find(item => item.color === color)?.image})`,\n                      }}\n                      aria-label={`Select color ${color}`}\n                    />\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"productDetails__band\" />\n\n              <div className=\"capacity\">\n                <div className=\"capacity__text\">Select capacity</div>\n                <div className=\"capacity__box\">\n                  {productDetails.capacityAvailable.map((capacity) => (\n                    <button\n                      type=\"button\"\n                      key={capacity}\n                      className={`capacity__button ${productDetails.capacity === capacity && 'capacity__button--selected'}`}\n                      onClick={() => handleCapacityClick(capacity)}\n                    >\n                      {capacity.replace('GB', ' GB')}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"productDetails__band\" />\n\n              <h2 className=\"price\">\n                $\n                {productDetails.priceDiscount}\n                {productDetails.priceRegular\n                  !== productDetails.priceDiscount && (\n                  <span className=\"old-price\">\n                    $\n                    {productDetails.priceRegular}\n                  </span>\n                )}\n              </h2>\n\n              <div className=\"actions\">\n                <button\n                  type=\"button\"\n                  className={containedInCart\n                    ? 'add-to-cart add-to-cart--selected' : 'add-to-cart'}\n                  onClick={() => {\n                    return product && (\n                      containedInCart ? removeFromCart(product.id)\n                        : addToCart(product));\n                  }}\n                >\n                  {containedInCart ? 'Added to cart' : 'Add to cart'}\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"favorite\"\n                  onClick={() => {\n                    return product && (\n                      containedInFavorites ? removeFromFavorites(product.id)\n                        : addToFavorites(product));\n                  }}\n                >\n                  <img\n                    src={containedInFavorites\n                      ? 'img/icons/favouritesSelected.svg'\n                      : 'img/icons/favourites.svg'}\n                    alt=\"Add to favorites\"\n                    className=\"favorite__img\"\n                  />\n                </button>\n              </div>\n\n              <ul className=\"specs\">\n                <li>\n                  Screen\n                  <span className=\"specs__value\">{productDetails.screen}</span>\n                </li>\n                <li>\n                  Resolution\n                  <span className=\"specs__value\">\n                    {productDetails.resolution}\n                  </span>\n                </li>\n                <li>\n                  Processor\n                  <span className=\"specs__value\">\n                    {productDetails.processor}\n                  </span>\n                </li>\n                <li>\n                  RAM\n                  <span className=\"specs__value\">{productDetails.ram}</span>\n                </li>\n              </ul>\n            </div>\n\n            <p className=\"productDetails__id\">{`ID: ${product?.fullPrice}${product?.price}`}</p>\n          </div>\n\n          <div className=\"productDetailsPage__about-specs\">\n            <section className=\"about\" data-cy=\"productDescription\">\n              <p className=\"about__title\">About</p>\n              <div className=\"productDetails__band\" />\n\n              {productDetails.description\n                && productDetails.description.map((section) => (\n                  <div className=\"description\">\n                    <p className=\"description__title\">\n                      {section.title}\n                    </p>\n                    {section.text.map((paragraph, index) => (\n                      <>\n                        {index !== 0 && <br />}\n                        <p className=\"description__text\">{paragraph}</p>\n                      </>\n                    ))}\n                  </div>\n                ))}\n            </section>\n\n            <section className=\"specs\">\n              <p className=\"specs__title\">Tech specs</p>\n              <div className=\"productDetails__band\" />\n\n              <ul className=\"specs-list\">\n                <li>\n                  Screen\n                  <span className=\"specs-list__value\">\n                    {productDetails.screen}\n                  </span>\n                </li>\n                <li>\n                  Resolution\n                  <span className=\"specs-list__value\">\n                    {productDetails.resolution}\n                  </span>\n                </li>\n                <li>\n                  Processor\n                  <span className=\"specs-list__value\">\n                    {productDetails.processor}\n                  </span>\n                </li>\n                <li>\n                  RAM\n                  <span className=\"specs-list__value\">\n                    {productDetails.ram}\n                  </span>\n                </li>\n                <li>\n                  Built in memory\n                  <span className=\"specs-list__value\">\n                    {productDetails.capacity}\n                  </span>\n                </li>\n                <li>\n                  Camera\n                  <span className=\"specs-list__value\">\n                    {productDetails.camera}\n                  </span>\n                </li>\n                <li>\n                  Zoom\n                  <span className=\"specs-list__value\">\n                    {productDetails.zoom}\n                  </span>\n                </li>\n                <li>\n                  Cell\n                  <span className=\"specs-list__value\">\n                    {productDetails.cell.join(', ')}\n                  </span>\n                </li>\n              </ul>\n            </section>\n          </div>\n\n          <ProductsSlider\n            title=\"You may also like\"\n            products={suggestedProducts}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import { HashRouter as Router, Routes, Route } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { PhonesPage } from './pages/PhonesPage/PhonesPage';\nimport { TabletsPage } from './pages/TabletsPage/TabletsPage';\nimport { AccessoriesPage } from './pages/AccessoriesPage/AccessoriesPage';\nimport { FavoritesPage } from './pages/FavoritesPage/FavoritesPage';\nimport { CartPage } from './pages/CartPage/CartPage';\nimport { ContactsPage } from './pages/ContactsPage/ContactsPage';\nimport { RightsPage } from './pages/RightsPage/RightsPage';\nimport { NotFoundPage } from './pages/NotFoundPage/NotFoundPage';\nimport {\n  ProductDetailsPage,\n} from './pages/ProductDetailsPage/ProductDetailsPage';\n\nReactDOM.render(\n  <Router>\n    <Routes>\n      <Route path=\"/\" element={<App />}>\n        <Route index element={<HomePage />} />\n        <Route path=\"/phones\" element={<PhonesPage />} />\n        <Route path=\"/tablets\" element={<TabletsPage />} />\n        <Route path=\"/accessories\" element={<AccessoriesPage />} />\n        <Route path=\"/favorites\" element={<FavoritesPage />} />\n        <Route path=\"/cart\" element={<CartPage />} />\n        <Route path=\"/contacts\" element={<ContactsPage />} />\n        <Route path=\"/rights\" element={<RightsPage />} />\n        <Route path=\"/product/:productId\" element={<ProductDetailsPage />} />\n        <Route path=\"*\" element={<NotFoundPage />} />\n      </Route>\n    </Routes>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}